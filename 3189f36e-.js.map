{"version":3,"sources":["/samples/realworld-sample/src/routes/profile-favorites-route.ts"],"names":["lit_html_1","$fsx","r","core_1","articleservice_1","default_1","HTMLElement","[object Object]","super","this","currentPage","limit","articles","articleService","instance","ArticleService","_x","params","username","name","getArticles","queryParams","offset","favorited","response","getList","totalPages","Array","from","Math","ceil","articlesCount","_val","index","html","pageNumber","page","tslib_1","__decorate","property","customElement"],"mappings":"mGAAAA,EAAAC,KAAAC,EAAA,IACAC,EAAAF,KAAAC,EAAA,IACAE,EAAAH,KAAAC,EAAA,IACAD,KAAAC,EAAA,IAGA,IAAAG,EAAA,cAA6BC,YAWzBC,cACIC,QARGC,KAAAC,YAAa,EACbD,KAAAE,MAAQ,GAGHF,KAAAG,SAAkB,GAK1BH,KAAKI,eAAiBV,EAAAW,SAASV,EAAAW,gBAG5BR,SAASS,EAAYC,GACxBR,KAAKS,SAAWD,EAAOE,KACvBV,KAAKW,cAGFb,oBACH,MAAMc,EAAc,CAChBV,MAAOF,KAAKE,MACZW,OAAQb,KAAKE,OAASF,KAAKC,YAAc,GACzCa,UAAWd,KAAKS,UAGdM,QAAiBf,KAAKI,eAAeY,QAAQ,MAAOJ,GAC1DZ,KAAKG,SAAW,IAAIY,EAASZ,UAC7BH,KAAKiB,WAAaC,MAAMC,KAAK,IAAID,MAAME,KAAKC,KAAKN,EAASO,cAAgBtB,KAAKE,QAAS,CAACqB,EAAMC,IAAUA,EAAQ,GAI9G1B,SACH,OAAOP,EAAAkC;;4BAEazB,KAAKG;8BACHH,KAAKiB;8BACLjB,KAAK0B,YAAc;+BAClB1B,KAAKC;6BACN0B,IACV3B,KAAKC,YAAc0B,EACnB3B,KAAKW;;YAnCTiB,EAAAC,WAAA,CAAXnC,EAAAoC,2CARLlC,EAAAgC,EAAAC,WAAA,CADCnC,EAAAqC,cAAc","file":"3189f36e-","sourcesContent":["import { html } from 'lit-html';\r\nimport { customElement, instance, property } from '@lit-html-free/core';\r\nimport { ArticleService } from 'src/resources/services/articleservice';\r\nimport '../components/article-list';\r\n\r\n@customElement('profile-favorites-route')\r\nexport default class extends HTMLElement {\r\n    public username: any;\r\n    public pageNumber: any;\r\n    public totalPages: any;\r\n    public currentPage= 1;\r\n    public limit = 10;\r\n    public articleService: ArticleService;\r\n\r\n    @property() articles: any[] = [];\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        this.articleService = instance(ArticleService);\r\n    }\r\n\r\n    public activate(_x: string, params: any) {\r\n        this.username = params.name;\r\n        this.getArticles();\r\n    }\r\n\r\n    public async getArticles() {\r\n        const queryParams = {\r\n            limit: this.limit,\r\n            offset: this.limit * (this.currentPage - 1),\r\n            favorited: this.username\r\n        };\r\n\r\n        const response = await this.articleService.getList('all', queryParams);\r\n        this.articles = [...response.articles];\r\n        this.totalPages = Array.from(new Array(Math.ceil(response.articlesCount / this.limit)), (_val, index) => index + 1);\r\n\r\n    }\r\n\r\n    public render() {\r\n        return html`\r\n            <article-list\r\n                .articles=${this.articles}\r\n                .totalPages=${this.totalPages}\r\n                .pageNumber=${this.pageNumber || 1}\r\n                .currentPage=${this.currentPage}\r\n                .setPageCb=${(page: number)=>{\r\n                    this.currentPage = page;\r\n                    this.getArticles();\r\n                }}\r\n            ></article-list>\r\n        `;\r\n    }\r\n}\r\n"]}