{"contents":"exports.__esModule = true;\nvar core_1 = __fusereq(42);\nvar core_2 = __fusereq(42);\nexports.STATE_KEY = 'VIEW_STATE';\ncore_2.validateKey(exports.STATE_KEY);\nfunction connectViewState(context, callback) {\n  core_1.disconnectedCallback(context, () => core_1.unSubscribe(exports.STATE_KEY, context));\n  core_1.subscribe(exports.STATE_KEY, context, callback);\n}\nexports.connectViewState = connectViewState;\nfunction viewState(defaultValue = '') {\n  return core_2.stateContainer(exports.STATE_KEY, defaultValue);\n}\nexports.viewState = viewState;\n","sourceMap":"{\"version\":3,\"sources\":[\"src/state/viewState.ts\"],\"names\":[\"core_2\",\"exports\",\"context\",\"callback\",\"core_1\",\"defaultValue\"],\"mappings\":\";;;oBAMyB;AACzBA,mBAAYC;AAKL,0BAA0BC,SAAsBC;EAEnDC,4BAAqBF,SAAS,MAAME,mBAAYH,mBAAWC;EAG3DE,iBAAUH,mBAAWC,SAASC;;;AAO3B,mBAAmBE,eAAe;SAC9BL,sBAAsBC,mBAAWI\",\"sourcesContent\":[\"import { subscribe, unSubscribe, disconnectedCallback } from '@simple-html/core';\\nimport { validateKey, stateContainer, stateResult } from '@simple-html/core';\\n\\n/**\\n * key and validate key, so we know we dont have duplicates\\n */\\nexport const STATE_KEY = 'VIEW_STATE';\\nvalidateKey(STATE_KEY);\\n\\n/**\\n * connect state\\n */\\nexport function connectViewState(context: HTMLElement, callback: Function): void {\\n    // this register callback with simpleHtml elements disconnected callback\\n    disconnectedCallback(context, () => unSubscribe(STATE_KEY, context));\\n\\n    // for following the event we just use the internal event handler\\n    subscribe(STATE_KEY, context, callback);\\n}\\n\\n/**\\n * function to get state/state setter\\n */\\nexport type state = string;\\nexport function viewState(defaultValue = '' as state): stateResult<state> {\\n    return stateContainer<state>(STATE_KEY, defaultValue);\\n}\\n\"]}"}