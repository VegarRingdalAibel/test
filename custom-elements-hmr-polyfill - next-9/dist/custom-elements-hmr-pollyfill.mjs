function t(){document.body&&requestAnimationFrame(()=>{const t=document.body.innerHTML;document.body.innerHTML="",document.body.innerHTML=t})}function e(){globalThis.hmrCache||(globalThis.hmrCache={},globalThis.hmrCacheSymbolAttributes={},globalThis.hmrCacheSymbolObserver={})}function o(t){return globalThis.hmrCache[t]}function n(t){return globalThis.hmrCacheSymbolAttributes[t]?globalThis.hmrCacheSymbolAttributes[t]:(globalThis.hmrCacheSymbolAttributes[t]=Symbol("observedAttributesArray"),globalThis.hmrCacheSymbolAttributes[t])}function r(t){return globalThis.hmrCacheSymbolObserver[t]?globalThis.hmrCacheSymbolObserver[t]:(globalThis.hmrCacheSymbolObserver[t]=Symbol("observedAttributesObserver"),globalThis.hmrCacheSymbolObserver[t])}function a(t,e,o){const n=Object.getOwnPropertyNames(t).filter(t=>-1===o.indexOf(t));for(let o=0;o<n.length;o++){const r=Object.getOwnPropertyDescriptor(t,n[o]);r&&(r.configurable?Object.defineProperty(e,n[o],r):console.warn("[custom-element-hmr-polyfill]",`${n[o]} is not configurable, skipping`))}}const l=[],i=["name","prototype","length"];function s(){if(!globalThis.hmrCache.initialized){globalThis.hmrCache.initialized=!0;const t=CustomElementRegistry.prototype.define;CustomElementRegistry.prototype.define=function(e,s,c){const b=customElements.get(e);if(s[n(e)]=s.observedAttributes,function(t,e){globalThis.hmrCache[t]=e}(e,s),b){const t=globalThis.hmrCache.onCustomElementChange;t&&"function"==typeof t&&t(e,s,c)}else{const b=new Proxy(function(t,e){return class extends e{static get observedAttributes(){return[]}connectedCallback(){const e=o(t),a=e.prototype,l=e[n(t)];l&&(Array.isArray(l)?l.forEach(t=>{a.attributeChangedCallback.apply(this,[t,null,this.getAttribute(t)])}):console.warn(`observedAttributes in ${t} is not array, please fix`)),this[r(t)]=new MutationObserver(t=>{t.forEach(t=>{a.attributeChangedCallback&&l&&-1!==l.indexOf(t.attributeName)&&a.attributeChangedCallback.apply(this,[t.attributeName,t.oldValue,t.target.getAttribute(t.attributeName)])})}),this[r(t)].observe(this,{childList:!1,attributes:!0,attributeOldValue:!0,subtree:!1}),a.connectedCallback&&a.connectedCallback.apply(this,arguments)}disconnectedCallback(){this[r(t)].disconnect(),this[r(t)]=null;const e=o(t).prototype;e.disconnectedCallback&&e.disconnectedCallback.apply(this,arguments)}adoptedCallback(){const e=o(t).prototype;e.adoptedCallback&&e.adoptedCallback.apply(this,arguments)}}}(e,s),{construct:function(t,n,r){return function(t,e,o){let n=window[t.__proto__.name];return n&&(n=window[t.__proto__.name].prototype instanceof Element),n||(a(t.__proto__.prototype,o.prototype,l),a(t.__proto__,o,i)),a(t.prototype,o.prototype,l),a(t,t,i),Reflect.construct(t,e,o)}(o(e),n,r)}});t.apply(this,[e,b,c])}}}}const c=t=>{e(),globalThis.hmrCache.onCustomElementChange||(globalThis.hmrCache.onCustomElementChange=t)};var b;!function(t){t.RERENDER_INNER_HTML="rerenderInnnerHTML",t.NONE="none"}(b||(b={}));const h=(e=b.RERENDER_INNER_HTML,o=250,n)=>{let r,a=[];return n||(n=()=>{}),(l,i,s)=>{n(l,i,s),e&&e===b.RERENDER_INNER_HTML&&(a.push(l),clearTimeout(r),r=setTimeout(()=>{t(),a=[]},o))}};function u(t=b.NONE,o=250,n){e(),s(),c(h(t,o,n))}export{b as ReflowStrategy,u as applyPolyfill,t as rerenderInnerHTML};
//# sourceMappingURL=custom-elements-hmr-pollyfill.mjs.map
