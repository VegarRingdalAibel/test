!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).customElementsHmrPolyfill={})}(this,(function(e){"use strict";function t(){document.body&&requestAnimationFrame(()=>{const e=document.body.innerHTML;document.body.innerHTML="",document.body.innerHTML=e})}function o(){globalThis.hmrCache||(globalThis.hmrCache={},globalThis.hmrCacheSymbolAttributes={},globalThis.hmrCacheSymbolObserver={})}function n(e){return globalThis.hmrCache[e]}function r(e){return globalThis.hmrCacheSymbolAttributes[e]?globalThis.hmrCacheSymbolAttributes[e]:(globalThis.hmrCacheSymbolAttributes[e]=Symbol("observedAttributesArray"),globalThis.hmrCacheSymbolAttributes[e])}function l(e){return globalThis.hmrCacheSymbolObserver[e]?globalThis.hmrCacheSymbolObserver[e]:(globalThis.hmrCacheSymbolObserver[e]=Symbol("observedAttributesObserver"),globalThis.hmrCacheSymbolObserver[e])}function a(e,t,o){const n=Object.getOwnPropertyNames(e).filter(e=>-1===o.indexOf(e));for(let o=0;o<n.length;o++){const r=Object.getOwnPropertyDescriptor(e,n[o]);r&&(r.configurable?Object.defineProperty(t,n[o],r):console.warn("[custom-element-hmr-polyfill]",`${n[o]} is not configurable, skipping`))}}const i=[],s=["name","prototype","length"];function c(){if(!globalThis.hmrCache.initialized){globalThis.hmrCache.initialized=!0;const e=CustomElementRegistry.prototype.define;CustomElementRegistry.prototype.define=function(t,o,c){const b=customElements.get(t);if(o[r(t)]=o.observedAttributes,function(e,t){globalThis.hmrCache[e]=t}(t,o),b){const e=globalThis.hmrCache.onCustomElementChange;e&&"function"==typeof e&&e(t,o,c)}else{const b=new Proxy(function(e,t){return class extends t{static get observedAttributes(){return[]}connectedCallback(){const t=n(e),o=t.prototype,a=t[r(e)];a&&(Array.isArray(a)?a.forEach(e=>{o.attributeChangedCallback.apply(this,[e,null,this.getAttribute(e)])}):console.warn(`observedAttributes in ${e} is not array, please fix`)),this[l(e)]=new MutationObserver(e=>{e.forEach(e=>{o.attributeChangedCallback&&a&&-1!==a.indexOf(e.attributeName)&&o.attributeChangedCallback.apply(this,[e.attributeName,e.oldValue,e.target.getAttribute(e.attributeName)])})}),this[l(e)].observe(this,{childList:!1,attributes:!0,attributeOldValue:!0,subtree:!1}),o.connectedCallback&&o.connectedCallback.apply(this,arguments)}disconnectedCallback(){this[l(e)].disconnect(),this[l(e)]=null;const t=n(e).prototype;t.disconnectedCallback&&t.disconnectedCallback.apply(this,arguments)}adoptedCallback(){const t=n(e).prototype;t.adoptedCallback&&t.adoptedCallback.apply(this,arguments)}}}(t,o),{construct:function(e,o,r){return function(e,t,o){let n=window[e.__proto__.name];return n&&(n=window[e.__proto__.name].prototype instanceof Element),n||(a(e.__proto__.prototype,o.prototype,i),a(e.__proto__,o,s)),a(e.prototype,o.prototype,i),a(e,e,s),Reflect.construct(e,t,o)}(n(t),o,r)}});e.apply(this,[t,b,c])}}}}const b=e=>{o(),globalThis.hmrCache.onCustomElementChange||(globalThis.hmrCache.onCustomElementChange=e)};var h;(h=e.ReflowStrategy||(e.ReflowStrategy={})).RERENDER_INNER_HTML="rerenderInnnerHTML",h.NONE="none";const u=(o=e.ReflowStrategy.RERENDER_INNER_HTML,n=250,r)=>{let l,a=[];return r||(r=()=>{}),(i,s,c)=>{r(i,s,c),o&&o===e.ReflowStrategy.RERENDER_INNER_HTML&&(a.push(i),clearTimeout(l),l=setTimeout(()=>{t(),a=[]},n))}};e.applyPolyfill=function(t=e.ReflowStrategy.NONE,n=250,r){o(),c(),b(u(t,n,r))},e.rerenderInnerHTML=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=custom-elements-hmr-pollyfill.umd.js.map
