!function(){if("undefined"==typeof window||window.Promise||(window.Promise=function(){var e=setTimeout;function t(){}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void i(t.promise,e)}s(t.promise,r)}else(1===e._state?s:i)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof n)return e._state=3,e._value=t,void a(e);if("function"==typeof r)return void l((s=r,o=t,function(){s.apply(o,arguments)}),e)}e._state=1,e._value=t,a(e)}catch(t){i(e,t)}var s,o}function i(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var t=0,s=e._deferreds.length;t<s;t++)r(e,e._deferreds[t]);e._deferreds=null}function o(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,i(t,e))})}catch(e){if(n)return;n=!0,i(t,e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,n){var s=new this.constructor(t);return r(this,new o(e,n,s)),s},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,n){if(0===t.length)return e([]);var r=t.length;function s(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var o=a.then;if("function"==typeof o)return void o.call(a,function(e){s(i,e)},n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}for(var i=0;i<t.length;i++)s(i,t[i])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var r=0,s=e.length;r<s;r++)e[r].then(t,n)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(t){e(t,0)},n._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},n._setImmediateFn=function(e){n._immediateFn=e},n._setUnhandledRejectionFn=function(e){n._unhandledRejectionFn=e},n}()),!window.$fsx){var e=window.$fsx={};e.f={},e.m={},e.r=function(t){var n=e.m[t];if(n)return n.m.exports;var r=e.f[t];return r?((n=e.m[t]={}).exports={},n.m={exports:n.exports},r.call(n.exports,n.m,n.exports),n.m.exports):void 0}}}(),function(e){e.f[0]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),e.r(1);const r=e.r(6),s=e.r(2);console.log("mframejs@0.2.6"),r.configure(s.App).then(e=>{e.start(document.body)})},e.f[1]=function(){e.r(5)("default/styles.css",'body {\n    color: #333;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 14px;\n    line-height: 1.42857143;\n    margin: 0;\n  }\n  \n  label {\n    display: inline-block;\n    font-weight: 700;\n    margin-bottom: 5px;\n  }\n  \n  #range {\n  display: flex;\n  }\n  \n  input[type=range] {\n    display: block;\n    width: 100%;\n    margin-bottom: 10px;\n    margin-top: 5px;\n  }\n  \n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  \n  :before,\n  :after {\n    box-sizing: border-box;\n  }\n  \n  .table > thead > tr > th,\n  .table > tbody > tr > th,\n  .table > tfoot > tr > th,\n  .table > thead > tr > td,\n  .table > tbody > tr > td,\n  .table > tfoot > tr > td {\n    border-top: 1px solid #ddd;\n    line-height: 1.42857143;\n    padding: 8px;\n    vertical-align: top;\n  }\n  \n  .table {\n    width: 100%;\n  }\n  \n  .table-striped > tbody > tr:nth-child(odd) > td,\n  .table-striped > tbody > tr:nth-child(odd) > th {\n    background: #f9f9f9;\n  }\n  \n  .label {\n    border-radius: .25em;\n    color: #fff;\n    display: inline;\n    font-size: 75%;\n    font-weight: 700;\n    line-height: 1;\n    padding: .2em .6em .3em;\n    text-align: center;\n    vertical-align: baseline;\n    white-space: nowrap;\n  }\n  \n  .label-success {\n    background-color: #5cb85c;\n  }\n  \n  .label-warning {\n    background-color: #f0ad4e;\n  }\n  \n  .popover {\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid #ccc;\n    border: 1px solid rgba(0, 0, 0, .2);\n    border-radius: 6px;\n    box-shadow: 0 5px 10px rgba(0, 0, 0, .2);\n    display: none;\n    left: 0;\n    max-width: 276px;\n    padding: 1px;\n    position: absolute;\n    text-align: left;\n    top: 0;\n    white-space: normal;\n    z-index: 1010;\n  }\n  \n  .popover>.arrow:after {\n    border-width: 10px;\n    content: "";\n  }\n  \n  .popover.left {\n    margin-left: -10px;\n  }\n  \n  .popover.left > .arrow {\n    border-right-width: 0;\n    border-left-color: rgba(0, 0, 0, .25);\n    margin-top: -11px;\n    right: -11px;\n    top: 50%;\n  }\n  \n  .popover.left > .arrow:after {\n    border-left-color: #fff;\n    border-right-width: 0;\n    bottom: -10px;\n    content: " ";\n    right: 1px;\n  }\n  \n  .popover > .arrow {\n    border-width: 11px;\n  }\n  \n  .popover > .arrow,\n  .popover>.arrow:after {\n    border-color: transparent;\n    border-style: solid;\n    display: block;\n    height: 0;\n    position: absolute;\n    width: 0;\n  }\n  \n  .popover-content {\n    padding: 9px 14px;\n  }\n  \n  .Query {\n    position: relative;\n  }\n  \n  .Query:hover .popover {\n    display: block;\n    left: -100%;\n    width: 100%;\n  }')},e.f[2]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});n.App=class{constructor(){this.databases=[]}loadTemplate(){return e.r(3)}attached(){window.perfMonitor.startFPSMonitor(),window.perfMonitor.startMemMonitor(),window.perfMonitor.initProfiler("view update");const e=()=>{window.perfMonitor.startProfile("view update"),this.databases=ENV.generateData().toArray(),window.perfMonitor.endProfile("view update"),setTimeout(e,ENV.timeout)};e()}}},e.f[3]=function(e,t){e.exports.default='<template>\n    <div>\n      <table class="table table-striped latest-data">\n        <tbody>\n          <tr repeat.for="db of databases">\n            <td class="dbname">${db.dbname}</td>\n            <td class="query-count">\n              <span class.bind="db.lastSample.countClassName">${db.lastSample.nbQueries}</span>\n            </td>\n            <td repeat.for="q of db.lastSample.topFiveQueries" class.bind="q.elapsedClassName" >${q.formatElapsed}<div class="popover left">\n                <div class="popover-content">${q.query}</div>\n                <div class="arrow"></div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </template>\n  '},e.f[4]=function(e,t){function n(e){return Math.round(1e3*Math.random())%e}Object.defineProperty(t,"__esModule",{value:!0});t.Store=class{constructor(){this.data=[],this.selected=void 0,this.id=1}buildData(e=1e3){let t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],r=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],s=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],i=[];for(let a=0;a<e;a++)i.push({id:this.id++,label:t[n(t.length)]+" "+r[n(r.length)]+" "+s[n(s.length)]});return i}updateData(){for(let e=0;e<this.data.length;e+=10)this.data[e].label+=" !!!"}delete(e){const t=this.data.findIndex(t=>t.id===e);return this.data=this.data.filter((e,n)=>n!==t),this}deleteNext(e){const t=this.data.findIndex(t=>t.id===e);return this.data=this.data.filter((e,n)=>n!==t+1),this}run(){this.data=this.buildData(1e3),this.selected=void 0}add(){this.data=this.data.concat(this.buildData()),this.selected=void 0}update(){this.updateData()}select(e){this.selected=e}hideAll(){this.backup=this.data,this.data=[],this.selected=void 0}showAll(){this.data=this.backup,this.backup=null,this.selected=void 0}runLots(){this.data=this.buildData(1e4),this.selected=void 0}clear(){this.data=[],this.selected=void 0}swapRows(){if(this.data.length>10){let e=this.data[1],t=this.data[998];this.data.splice(1,1,t),this.data.splice(998,1,e)}}}},e.f[5]=function(e,t){var n=function(e,t){var n=e.replace(/[\.\/]+/g,"-");"-"===n.charAt(0)&&(n=n.substring(1));var r=document.getElementById(n);if(r)t&&(r.innerHTML=t);else{var s=document.createElement(t?"style":"link");s.id=n,s.type="text/css",t?s.innerHTML=t:(s.rel="stylesheet",s.href=e),document.getElementsByTagName("head")[0].appendChild(s)}};"undefined"!=typeof FuseBox&&FuseBox.on("async",function(e){if(/\.css$/.test(e))return n(e),!1}),e.exports=n},e.f[6]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(7);n.MF=r.MF,n.configure=r.configure,n.EventAggregator=r.EventAggregator,n.Logger=r.Logger,n.register=r.register,n.raiseEvent=r.raiseEvent,n.FetchClient=r.FetchClient,n.urlqueryStringify=r.urlqueryStringify,n.urlQueryParse=r.urlQueryParse,n.Cache=r.Cache,n.connectBehavior=r.connectBehavior,n.template=r.template,n.DOM=r.DOM;var s=e.r(11);n.ContainerClasses=s.ContainerClasses,n.ContainerAttributes=s.ContainerAttributes,n.ContainerElements=s.ContainerElements,n.ContainerValueConverters=s.ContainerValueConverters;var i=e.r(68);n.inject=i.inject,n.transient=i.transient,n.customAttribute=i.customAttribute,n.customElement=i.customElement,n.containerfree=i.containerfree,n.bindable=i.bindable,n.computedFrom=i.computedFrom,n.valueConverter=i.valueConverter,n.behavior=i.behavior,n.observable=i.observable,n.shadowdom=i.shadowdom;var a=e.r(22);n.BindingEngine=a.BindingEngine,n.createBindingContext=a.createBindingContext;var o=e.r(19);n.AttributeController=o.AttributeController,n.ElementController=o.ElementController,n.InterpolateController=o.InterpolateController,n.ViewController=o.ViewController,n.View=o.View,n.addAttribute=o.addAttribute;var l=e.r(39);n.IElement=l.IElement,n.IAttribute=l.IAttribute,n.IControllerArray=l.IControllerArray,n.IControllerObject=l.IControllerObject,n.CONSTANTS=l.CONSTANTS,n.IFetchConfig=l.IFetchConfig,n.IBindingContext=l.IBindingContext},e.f[7]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(8);n.DomEventHandler=r.DomEventHandler;var s=e.r(9);n.EventAggregator=s.EventAggregator;var i=e.r(10);n.configure=i.configure;var a=e.r(17);n.MF=a.MF;var o=e.r(38);n.Cache=o.Cache;var l=e.r(93);n.Logger=l.Logger;var c=e.r(94);n.raiseEvent=c.raiseEvent;var h=e.r(95);n.register=h.register;var u=e.r(96);n.FetchClient=u.FetchClient;var d=e.r(97);n.urlqueryStringify=d.urlqueryStringify,n.urlQueryParse=d.urlQueryParse;var p=e.r(98);n.connectBehavior=p.connectBehavior;var f=e.r(99);n.template=f.template;var b=e.r(18);n.DOM=b.DOM},e.f[8]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(7);n.DomEventHandler=class{constructor(){this.count=0,this.id=[],this.events=[],this.target=[],this.call=[],this.eventHandlerBinded=this.eventHandler.bind(this)}listenFor(e,t,n){return this.count++,-1===this.events.indexOf(e)&&this.addEventListener(e),this.id.push(this.count),this.events.push(e),this.target.push(t),this.call.push(n),this.count}removeListener(e){this.id.splice(e,1);const t=this.events.splice(e,1);this.target.splice(e,1),this.call.splice(e,1),-1===this.events.indexOf(t)&&this.removeEventListener(t)}addEventListener(e){r.DOM.document.body.addEventListener(e,this.eventHandlerBinded,!1)}removeEventListener(e){r.DOM.document.body.removeEventListener(e,this.eventHandlerBinded,!1)}eventHandler(e){const t=this.target.indexOf(e.target),n=this.events[t];-1!==this.events.indexOf(e.type)&&-1!==t&&-1!==t&&n===e.type&&this.call[t](e)}}},e.f[9]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.EventAggregator=class{constructor(){this.channels={}}publish(e,...t){if(Array.isArray(this.channels[e]))for(let n=0,r=this.channels[e].length;n<r;n++)this.channels[e][n].apply(this,t)}unsubscribe(e,t){if(Array.isArray(this.channels[e]))for(let n=0,r=this.channels[e].length;n<r;n++)this.channels[e][n]===t&&this.channels[e].splice(n,1)}subscribe(e,t){Array.isArray(this.channels[e])||(this.channels[e]=[]),this.channels[e].push(t)}}},e.f[10]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(11),i=e.r(17),a=e.r(18);n.configure=function(e){return r.__awaiter(this,void 0,void 0,function*(){const t=s.ContainerClasses.get(i.MF),n=s.ContainerClasses.get(e);return null===a.DOM.document.body?new Promise(e=>{a.DOM.document.addEventListener("DOMContentLoaded",function(){e(t.setRootApp(n))})}):yield t.setRootApp(n)})}},e.f[11]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(12);n.ContainerClasses=r.ContainerClasses;var s=e.r(13);n.ContainerAttributes=s.ContainerAttributes;var i=e.r(14);n.ContainerElements=i.ContainerElements;var a=e.r(15);n.ContainerValueConverters=a.ContainerValueConverters;var o=e.r(16);n.ContainerBehavior=o.ContainerBehavior},e.f[12]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=new Map,r=new Map,s=new Map;t.ContainerClasses=class{static get(e){return this.getInstance(e)}static getInstance(e){return s.has(e)?this.create(e):(r.get(e)||r.set(e,this.create(e)),r.get(e))}static create(e){let t=n.get(e)||[];return t=t.map(e=>{try{return this.get(e)}catch(t){return e}}),new e(...t)}static setDep(e,t){n.set(e,t)}static regTransient(e){s.has(e)||s.set(e,null)}}},e.f[13]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=new Map;t.ContainerAttributes=class{static regAttribute(e,t){n.has(t)||n.set(t,e),n.has(t)||n.set(t,e)}static findAttribute(e){return n.has(e)?n.get(e):null}}},e.f[14]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=new Map;t.ContainerElements=class{static regElement(e,t){n.has(t)||n.set(t,e)}static findElement(e){return n.has(e)?n.get(e):null}}},e.f[15]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=new Map;t.ContainerValueConverters=class{static regConverter(e,t){n.has(t)||n.set(t,e)}static findConverter(e){return n.has(e)?n.get(e):null}}},e.f[16]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=new Map;t.ContainerBehavior=class{static regBehavior(e,t){n.has(t)||n.set(t,e)}static findBehavior(e){return n.has(e)?n.get(e):null}}},e.f[17]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(18),i=e.r(19),a=e.r(66),o=e.r(83),l=e.r(22);n.MF=class{constructor(){this.count=0,s.DOM.window.Reflect||(s.DOM.window.Reflect=Object),this.register(o.ValueAttribute,o.IfAttribute,o.DelgateEventsAttribute,o.RepeatAttribute,o.MiscAttributes,o.CssAttribute,o.ModelAttribute,o.TriggerEventsAttribute,a.SignalBehavior,a.ThrottleBehavior,a.DebounceBehavior,a.TriggerBehavior)}setRootApp(e){return this.app=e,this}start(e){return r.__awaiter(this,void 0,void 0,function*(){this.node=e,this.$view=new i.ViewController(e,null),i.View.parseAndCreateElement(this.app,this.node,l.createBindingContext(this),null,this.$view)})}register(...e){}}},e.f[18]=function(e,t){let n,r;Object.defineProperty(t,"__esModule",{value:!0});let s={SHOW_ALL:-1,FILTER_ACCEPT:1,FILTER_REJECT:2};try{document&&(n=document),window&&(r=window),NodeFilter&&(s=NodeFilter)}catch(e){}t.DOM=class{static get document(){return n}static get window(){return r}static get nodeFilter(){return s}static setConfig(e,t){n=t,r=e}static waitFor(e=30,t=0){return new Promise(n=>{let r=0;const s=()=>{setTimeout(()=>{r===t?n():(r++,s())},e)};s()})}}},e.f[19]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(20);n.AttributeController=r.AttributeController;var s=e.r(62);n.ElementController=s.ElementController;var i=e.r(64);n.InterpolateController=i.InterpolateController;var a=e.r(21);n.ViewController=a.ViewController;var o=e.r(63);n.View=o.View;var l=e.r(65);n.addAttribute=l.addAttribute},e.f[20]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(21),s=e.r(11),i=e.r(22),a=e.r(7);n.AttributeController=class{constructor(e,t,n,i,o){this.bindingContext=e,this.htmlNode=t,this.attributeNode=n,this.logger=a.Logger.getLogger(n.name,"attribute"),this.classInstance=s.ContainerClasses.get(i),this.htmlNode=t,"if.bind"===n.name||"repeat.for"===n.name?(this.viewController=new r.ViewController(t,o),this.viewController.addAttribute(this)):(o.addAttribute(this),this.viewController=o)}init(){this.create()}searchForInstance(e){return this.viewController.searchForInstance(e)}getView(){return this.viewController}create(){this.logger.log("created",this.attributeNode.name,this.attributeNode.value),this.classInstance.$element=this.htmlNode,this.classInstance.$bindingContext=this.bindingContext,this.classInstance.$attribute=this.attributeNode,this.classInstance.$controller=this,i.BindingEngine.subscribeClassMetaBinding(this.classInstance),this.classInstance.created&&this.classInstance.created()}attached(){this.logger.log("attached",this.attributeNode.name,this.attributeNode.value),this.classInstance.attached&&this.classInstance.attached()}detached(){this.logger.log("detached",this.attributeNode.name,this.attributeNode.value),this.classInstance.detached&&this.classInstance.detached(),i.BindingEngine.unSubscribeClassMetaBinding(this.classInstance),this.bindingContext=null,this.htmlNode=null,this.attributeNode=null,this.classInstance.$element=null,this.classInstance.$bindingContext=null,this.classInstance.$attribute=null,this.classInstance.$controller=null,this.classInstance=null,this.viewController=null}}},e.f[21]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.ViewController=class{constructor(e,t){this.htmlNode=e,this.viewController=t,this.count=0,t&&this.viewController.addChildView(this)}searchForInstance(e){for(const t in this.items)if(this.items&&this.items[t]&&this.items[t].classInstance&&this.items[t].classInstance instanceof e)return this.items[t].classInstance;if(this.viewController){const t=this.viewController.searchForInstance(e);if(t)return t}return null}addElement(e){this.count++,this.items||(this.items={}),this.items["e"+this.count]=e}addAttribute(e){this.count++,this.items||(this.items={}),this.items["a"+this.count]=e}addInterpolate(e){this.count++,this.items||(this.items={}),this.items["i"+this.count]=e}getElement(){return this.htmlNode}addChildView(e){this.childViewControllers||(this.childViewControllers=[]),this.childViewControllers.push(e)}removeChildView(e){if(this.childViewControllers){const t=this.childViewControllers.indexOf(e);-1!==t&&this.childViewControllers.splice(t,1)}}clearView(){if(this.childViewControllers)for(;this.childViewControllers.length;)this.childViewControllers.pop().clearView();if(this.items)for(const e in this.items)this.items[e].detached&&(this.items[e].detached(),this.items[e]=null);this.viewController&&this.viewController.removeChildView(this),this.childViewControllers=null,this.items=null,this.htmlNode=null,this.viewController=null}}},e.f[22]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(23);n.BindingEngine=r.BindingEngine;var s=e.r(61);n.createBindingContext=s.createBindingContext},e.f[23]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(24),s=e.r(27),i=e.r(30),a=e.r(35),o=e.r(26),l=e.r(50),c=e.r(52),h=e.r(53),u=e.r(54),d=e.r(58),p=e.r(59),f=e.r(60),b=e.r(7);class v{static tokenizeParseAndTraverseAST(e,t){let n;if(b.Cache.expressionMap.has(e)){n=b.Cache.expressionMap.get(e).ast}else{const t=s.tokenize(e);n=i.generateAST(t)}return r.traverseAST(n,t)}static printTokensAndAST(e,t){const n=s.tokenize(e),a=i.generateAST(n),o=r.traverseAST(a,t);console.log("tokens:",n),console.log("ast:",a),console.log("result:",o)}}v.tokenize=s.tokenize,v.traverseAST=r.traverseAST,v.generateAST=i.generateAST,v.valueConvert=r.valueConvert,v.getBehavior=r.getBehavior,v.createBindingExpression=a.createBindingExpression,v.setValue=o.setValue,v.subscribeClassProperty=l.subscribeClassProperty,v.unSubscribeClassProperty=c.unSubscribeClassProperty,v.evaluateExpression=h.evaluateExpression,v.subscribeClassArray=u.subscribeClassArray,v.unSubscribeClassArray=d.unSubscribeClassArray,v.unSubscribeClassMetaBinding=p.unSubscribeClassMetaBinding,v.subscribeClassMetaBinding=f.subscribeClassMetaBinding,n.BindingEngine=v},e.f[24]=function(t,n){var r;Object.defineProperty(n,"__esModule",{value:!0});const s=e.r(11),i=e.r(25),a=e.r(26);let o;const l=((r=class{}).operator=function(e,t,n){switch(e){case"+":return t+n;case"-":return n?t-n:-t;case"*":return t*n;case"!":return!t;case"%":return t%n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"&&":return t&&n;case"||":return t||n;case"<=":return t<=n;case"+=":return t+n;case"-=":return t-n;case"*=":return t*n;case"/=":return t/n;case"===":return t===n;case"!==":return t!==n;case"/":return t/n;case"^":return t^n}},r.checkArity=function(e,t,n){let r;return e&&"literal"===e.arity&&(r=e.value),e&&"variable"===e.arity&&(r=l.variable(e,t,n)),e&&"binary"===e.arity&&(r=l.binary(e,t,n)),e&&"unary"===e.arity&&(r=l.binary(e,t,n)),e&&"ternary"===e.arity&&(r=l.ternary(e,t,n)),e&&"valueConverter"===e.arity&&(r=l.valueConverter(e,t,n)),r},r.variable=function(e,t,n){let r;try{switch(!0){case"null"===e.value&&"variable"===e.arity:return null;case"undefined"===e.value&&"variable"===e.arity:return;case"$this"===e.value&&"variable"===e.arity&&e.root:return t.$context;case"$event"===e.value&&"variable"===e.arity&&e.root:return t.$event;case"variable"===e.arity&&"string"==typeof e.value&&"TRUE"===e.value.toUpperCase():return!0;case"variable"===e.arity&&"string"==typeof e.value&&"FALSE"===e.value.toUpperCase():return!1}let n,s=t;t.__bindingContext&&(s=t.$context);let a=!1;e.value&&"string"===e.value[0]&&"$"!==e.value[0][0]&&(a=!0),a?n=s[e.value]:(e.root&&(s=i.getCorrectContext(e.value,t)).__bindingContext&&(s=s.$context),n=s[e.value]),r=n}catch(e){}return r},r.binary=function(e,t,n){let r,s,o;switch(!0){case!0===e.assignment:try{if("variable"===e.first.arity){const r=t.__bindingContext?t.$context:t;"+="===e.value||"-="===e.value?r[e.first.value]=l.operator(e.value,r[e.first.value],l.checkArity(e.second,t,n)):r[e.first.value]=l.checkArity(e.second,t,n)}else{let r=!1,s=e.first;const i=[];for(;!r;)"binary"!==s.second.arity?i.push(s.second.value):i.push(`[${l.checkArity(s.second,t,n)}]`),"variable"===s.first.arity?(i.push(s.first.value),r=!0):s=s.first;i.reverse();const c=i.join(".").split(".[").join("[");"="===e.value?a.setValue(t,c,l.checkArity(e.second,t,n)):(o=l.checkArity(e.first,t,n),a.setValue(t,c,l.operator(e.value,o,l.checkArity(e.second,t,n))))}}catch(t){console.error("only simple assigments are supported, sorry",e)}break;case"{"===e.value:const c={};e.first.forEach(e=>{c[e.key]=l.checkArity(e,t,n)}),s=c;break;case e.checkArray:s=(r=(o=l.checkArity(e.first,t,n))&&e.contextReset?o[r=l.checkArity(e.second,n,n)]:l.checkArity(e.second,o,n))||o;break;case e.isObject:s=r=(o=l.checkArity(e.first,t,n))&&e.contextReset?o[r=l.checkArity(e.second,n,n)]:l.checkArity(e.second,o,n);break;case!e.isFunction:o=l.checkArity(e.first,t,n),r=l.checkArity(e.second,t,n),s=l.operator(e.value,o,r);break;default:const h=[];e.second.forEach(function(e){h.push(l.evaluate(e,n))});let u,d=t.$context;if(u="binary"===e.first.arity?l.binary(e.first,t,n):d[e.first.value],(d=i.getCorrectContext(e.first.value,t))&&d.$context&&"function"==typeof d.$context[e.first.value]&&(u=d.$context[e.first.value]),u){const r=l.binary({first:e.first.first,checkArray:!0},t,n);s=Array.isArray(r)?u.apply(r,h):u.apply(d.$context,h)}else console.warn(`method does not exist:${e.first.value}`)}return s},r.ternary=function(e,t,n){const r=l.checkArity(e.first,t,n),s=l.checkArity(e.second,t,n),i=l.checkArity(e.third,t,n);return r?s:i},r.valueConverter=function(e,t,n){let r;const i=[];e.args.forEach(e=>{i.push(l.checkArity(e,t,n))});const a=s.ContainerValueConverters.findConverter(e.value);let c;if(a){c=s.ContainerClasses.get(a);try{r=o?c.fromView.apply(t,i):c.toView.apply(t,i)}catch(t){console.warn("value converter failed:"+e.value)}}else console.warn("value converter does not exist:"+e.value);return r},r.evaluate=function(e,t){o=!1;const n=Array.isArray(e)?e:[e],r=[];for(let e=0;e<n.length;e++){const s=l.checkArity(n[e],t,t);r.push(s)}return r.length>1?r.join(""):r[0]},r.traverseOnlyValueConverter=function(e,t,n,r){let i,a=[];t.args.forEach((e,t)=>{t>0&&a.push(l.checkArity(e,n,r))}),a=[e,...a];const c=s.ContainerValueConverters.findConverter(t.value);let h;if(c){h=s.ContainerClasses.get(c);try{i=o?h.fromView.apply(n,a):h.toView.apply(n,a)}catch(e){console.warn("value converter failed:"+t.value)}}else console.warn("value converter does not exist:"+t.value);return i},r.evaluateConverterFromViewOnly=function(e,t,n,r){const s=Array.isArray(e)?e:[e],i=[];o=!0;let a=!1;for(let e=0;e<s.length;e++){let o;switch(!0){case"valueConverter"===s[e].arity:a=!0,o=l.traverseOnlyValueConverter(t,s[e],n,r)}o&&i.push(o)}return i.length>1?i.join(""):a?i[0]:t},r.getBehaviorFunctions=function(e){const t=Array.isArray(e)?e:[e],n=[];for(let e=0;e<t.length;e++){let r;switch(!0){case"behavior"===t[e].arity:r={name:t[e].value,args:t[e].args.map(e=>e.value)}}r&&n.push(r)}return n},r);n.traverseAST=function(e,t){return l.evaluate(e,t)},n.valueConvert=function(e,t,n){return l.evaluateConverterFromViewOnly(e,n,t,t)},n.getBehavior=function(e){return l.getBehaviorFunctions(e)}},e.f[25]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(7);n.getCorrectContext=function(e,t){const n=r.Cache.keyMaps.getCreate(e)[0];let s,i=t;if("string"==typeof n&&"$"!==n[0]&&i&&i.$overrideContext)for(;i.$overrideContext;)(i=i.$overrideContext)&&i.$context&&n in i.$context&&(s=i);return s||t}},e.f[26]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(25),s=e.r(7);n.setValue=function(e,t,n){e=(e=r.getCorrectContext(t,e)).__bindingContext?e.$context:e;const i=s.Cache.keyMaps.getCreate(t);try{let r;i.length>1?i.forEach((t,s)=>{t&&(s===i.length-1?r[t]=n:r=0===s?e[t]:r[t])}):e[t]=n}catch(r){try{console.warn("key not found, rebuilding",t);let r,s={};i.forEach((e,t)=>{e&&(t===i.length-1?0===t?(s[e]={},r=s[e]):r[e]=n:0===t?(s[e]={},r=s[e]):(r[e]={},r=r[e]))});let a=e;i.forEach((e,t)=>{e&&(t===i.length-1?a[e]||(a[e]=s[e]):(a[e]||(a[e]=s[e]),s=s[e],a=a[e]))})}catch(e){console.error("key not found",t)}}}},e.f[27]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(28);n.tokenize=function(e){return new r.Tokenizer(e).start()}},e.f[28]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=new(e.r(29).CharCodes);n.Tokenizer=class{constructor(e){this.baseTokens=[],this.tokens=[],this.chars=[],this.curChar=null,this.curCharNo=0,this.curtype=null,this.expressionOriginal=e,this.isMix=-1!==e.indexOf("${"),this.isMix=!!this.isMix||-1!==e.indexOf("@{"),this.isOutsideExpression=this.isMix,this.expression=this.setStrings(this.expressionOriginal),this.expression=this.removeWhitespaceExpressions(this.expression),this.curChar=this.expression.charCodeAt(this.curCharNo),this.expressionLength=this.expression.length}start(){return this.generateBaseTokens(),this.combineBaseTokens(),this.tokens}setStrings(e){let t=this.isOutsideExpression,n="";t&&(n='"');let r=0;for(let s=0;s<e.length;s++)switch(!0){case t&&e.charCodeAt(s)==="$".charCodeAt(0)&&e.charCodeAt(s+1)==="{".charCodeAt(0):r++,n=n+'"'+e[s],t=!1;break;case!t&&e.charCodeAt(s)==="$".charCodeAt(0)&&e.charCodeAt(s+1)==="{".charCodeAt(0):r++,n+=e[s];break;case t&&e.charCodeAt(s)==="@".charCodeAt(0)&&e.charCodeAt(s+1)==="{".charCodeAt(0):r++,n=n+'"'+e[s],t=!1;break;case!t&&e.charCodeAt(s)==="@".charCodeAt(0)&&e.charCodeAt(s+1)==="{".charCodeAt(0):r++,n+=e[s];break;case!t&&e.charCodeAt(s)==="}".charCodeAt(0):--r?n+=e[s]:(n=n+e[s]+'"',t=!0);break;default:n+=e[s]}return t&&(n+='"'),n}removeWhitespaceExpressions(e){let t,n=!1,s="";for(let i=0;i<e.length;i++)switch(!0){case!n&&r.STRING_START_END.has(e.charCodeAt(i)):s+=e[i],t=e.charCodeAt(i),n=!0;break;case n&&t===e.charCodeAt(i):s+=e[i],n=!1;break;case!n&&r.WHITESPACE.has(e.charCodeAt(i)):break;default:s+=e[i]}return s}parsedAllChars(){return!(this.curCharNo<this.expressionLength)}advanceChar(){this.curCharNo++,this.curChar=this.expression.charCodeAt(this.curCharNo)}addToken(){const e=this.chars.map(e=>String.fromCharCode(e)).join("");this.baseTokens.push({type:this.curtype,value:"number"===this.curtype?parseFloat(e):e}),this.chars=[],this.curtype=null}generateBaseTokens(){let e=this.parsedAllChars();for(;!e;){switch(!0){case null===this.curtype&&r.NUMBER.has(this.curChar):for(this.curtype="number";r.NUMBER.has(this.curChar)&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.addToken();break;case null===this.curtype&&r.STRING_START_END.has(this.curChar):this.curtype="string";const e=this.curChar;for(this.advanceChar();e!==this.curChar&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.advanceChar(),this.addToken();break;case null===this.curtype&&r.OPERATOR.has(this.curChar):this.curtype="operator",this.chars.push(this.curChar),this.advanceChar(),this.addToken();break;default:for(this.curtype="variable";!r.OPERATOR.has(this.curChar)&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.addToken()}e=this.parsedAllChars()}}advanceNextBaseToken(){this.baseTokenNo++,this.token=this.baseTokens[this.baseTokenNo]}combineBaseTokens(){for(this.tokens=[],this.baseTokenNo=0;this.baseTokenNo<this.baseTokens.length;)switch(this.token=this.baseTokens[this.baseTokenNo],!0){case"variable"===this.token.type:const e=this.tokens[this.tokens.length-1];(!e||e&&"."!==e.value&&"["!==e.value)&&(this.token.root=!0),this.tokens.push(this.token),this.advanceNextBaseToken();break;case"string"===this.token.type:this.tokens.push(this.token),this.advanceNextBaseToken();break;case"operator"===this.token.type:const t=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0,n=this.baseTokens[this.baseTokenNo+2]?this.baseTokens[this.baseTokenNo+2]:void 0;t&&"operator"===t.type&&r.OPERATOR_COMBO.has(this.token.value+t.value)?n&&"operator"===n.type&&r.OPERATOR_COMBO.has(this.token.value+t.value+n.value)?(this.token.value=this.token.value+t.value+n.value,this.tokens.push(this.token),this.baseTokens.splice(this.baseTokenNo,1),this.baseTokens.splice(this.baseTokenNo,1),this.advanceNextBaseToken()):(this.token.value=this.token.value+t.value,this.tokens.push(this.token),this.baseTokens.splice(this.baseTokenNo,1),this.advanceNextBaseToken()):"-"===this.token.value&&"number"===t.type&&this.tokens.length>0&&"operator"===this.tokens[this.tokens.length-1].type?this.token.type="number":"$"!==this.token.value&&"_"!==this.token.value||"variable"!==t.type?(this.tokens.push(this.token),this.advanceNextBaseToken()):(t.value=this.token.value+t.value,this.baseTokens.splice(this.baseTokenNo,1));break;case"number"===this.token.type:let s=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0;for(;s&&"number"===s.type;)this.token.value=this.token.value+s.value,this.token.value=1*this.token.value,this.baseTokens.splice(this.baseTokenNo,1),s=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0;this.tokens.push(this.token),this.advanceNextBaseToken()}}}},e.f[29]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.CharCodes=class{constructor(){this.WHITESPACE=new Set,[32,10,13].map(e=>this.WHITESPACE.add(e)),this.STRING_START_END=new Set,["'",'"',"`"].map(e=>this.STRING_START_END.add(e.charCodeAt(0))),this.OPERATOR=new Set,["=","!",">","<","+","-","*","/","%","@","^","(",")","|","&","?",":",",","{",,"}","[","]","$","."].map(e=>this.OPERATOR.add(e.charCodeAt(0))),this.NUMBER=new Set,["1","2","3","4","5","6","7","8","9","0"].map(e=>this.NUMBER.add(e.charCodeAt(0))),this.OPERATOR_COMBO=new Set,["===","==","+=","-=","*=","/=","!=","&&","||","!==",">=","<=","${","@{"].map(e=>this.OPERATOR_COMBO.add(e))}}},e.f[30]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(31),s=e.r(33),i=e.r(34),a=new r.AST,o=new s.SymbolContainer;a.addSymbolContainer(o),i.addSymbols(a),n.generateAST=function(e){return a.start(e)}},e.f[31]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(32);n.AST=class{constructor(){this.currentStatement=null,this.currentTokenIndex=0,this.assignment=function(e){const t=this;return this.infixr(e,10,function(e){return"."!==e.id&&"["!==e.id&&"variable"!==e.arity&&e.error("Bad lvalue."),this.first=e,this.second=t.expression(9),this.assignment=!0,this.arity="binary",this})}}start(e){return this.tokens=e,this.currentStatement=null,this.currentTokenIndex=0,this.currentToken=null,this.advance(),this.statements()}addSymbolContainer(e){this.symbolContainer=e}symbol(e,t){let n=this.symbolContainer[e];return t=t||0,n?t>=n.lbp&&(n.lbp=t):((n=new r.SymbolTemplate).id=n.value=e,n.lbp=t,this.symbolContainer[e]=n),n}prefix(e,t){const n=this.symbol(e),r=this;return n.nud=t||function(){return this.first=r.expression(70),this.arity="unary",this},n}infix(e,t,n){const r=this.symbol(e,t),s=this;return r.led=n||function(e){return this.first=e,this.second=s.expression(t),this.arity="binary",this},r}infixr(e,t,n){const r=this.symbol(e,t),s=this;return r.led=n||function(e){return this.first=e,this.second=s.expression(t-1),this.arity="binary",this},r}stmt(e,t){const n=this.symbol(e);return n.std=t,n}statement(){const e=this.currentToken;let t;return e.std?(this.advance(),e.std()):t=this.expression(0)}statements(){let e;for(this.statementsArray=[];"}"!==this.currentToken.id&&"(end)"!==this.currentToken.id;)(e=this.statement())&&this.statementsArray.push(e);return 0===this.statementsArray.length?null:1===this.statementsArray.length?this.statementsArray[0]:this.statementsArray}advance(e){let t,n,r,s;if((r=this.tokens[this.currentTokenIndex])&&e){const t=this.tokens[this.currentTokenIndex+1];if("}"===e&&t&&("|"===t.value||"&"===t.value))return;const n=this.tokens[this.currentTokenIndex-1];if("}"===e&&n&&("|"===n.value||"&"===n.value))return}if(!(this.currentTokenIndex>=this.tokens.length))return this.currentTokenIndex+=1,s=r.value,"variable"===(t=r.type)?(t="variable",n=this.symbolContainer["(variable)"]):"operator"===t?(n=this.symbolContainer[s])||console.warn("Unknown operator.",r):"string"===t||"number"===t?(t="literal",n=this.symbolContainer["(literal)"]):console.warn("Unexpected token.",r),this.currentToken=Object.create(n),this.currentToken.value=s,this.currentToken.arity=t,r.root&&(this.currentToken.root=!0),this.currentToken;this.currentToken=this.symbolContainer["(end)"]}expression(e){let t,n=this.currentToken;this.advance(),t=n.nud();try{for(;e<this.currentToken.lbp;)n=this.currentToken,this.advance(),t=n.led(t)}catch(e){console.warn("parser fail")}return t}}},e.f[32]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SymbolTemplate=class{nud(){console.error("Undefined.")}led(){console.error("Missing operator.")}}},e.f[33]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SymbolContainer=class{}},e.f[34]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addSymbols=function(e){const t=e;t.symbol("(literal)").nud=function(){return this},t.symbol("(variable)").nud=function(){return this},t.symbol("(function)").nud=function(){return this},t.symbol("(end)"),t.symbol("(name)"),t.symbol(":"),t.symbol(";"),t.symbol(")"),t.symbol("]"),t.symbol("}"),t.symbol(","),t.infix("+",50),t.infix("-",50),t.infix("*",60),t.infix("%",60),t.infix("/",60),t.infix("===",40),t.infix("!==",40),t.infix("==",40),t.infix("!=",40),t.infix("<",40),t.infix("<=",40),t.infix(">",40),t.infix("^",70),t.infix(">=",40),t.infix("?",20,function(e){return this.first=e,this.second=t.expression(0),t.advance(":"),this.third=t.expression(0),this.arity="ternary",this}),t.infix(".",80,function(e){return this.first=e,"variable"!==t.currentToken.arity&&t.currentToken.error("Expected a property name."),t.currentToken.arity="variable",this.second=t.currentToken,this.arity="binary",this.isObject=!0,t.advance(),this}),t.infix("[",80,function(e){return this.first=e,this.second=t.expression(0),this.arity="binary",this.isObject=!0,this.contextReset=!0,t.advance("]"),this}),t.infix("(",80,function(e){if(!e)return t.expression(0);const n=[];if(this.arity="binary",this.isFunction=!0,this.first=e,this.second=n,")"!==t.currentToken.id)for(;n.push(t.expression(0)),","===t.currentToken.id;)t.advance(",");return t.advance(")"),this}),t.prefix("-"),t.prefix("!"),t.prefix("(",function(){const e=t.expression(0);return"|"===t.currentToken.value&&(t.valueConverter=t.expression(0)),"&"===t.currentToken.value?t.behavior=t.expression(0):t.advance(")"),e}),t.prefix("{",function(){const e=[];if("}"!==t.currentToken.value)for(;;){const n=t.currentToken;t.advance(),t.advance(":");const r=t.expression(0);if(r.key=n.value,e.push(r),","!==t.currentToken.value)break;t.advance(",")}return t.advance("}"),this.first=e,this.arity="unary",this}),t.assignment("="),t.assignment("+="),t.assignment("-="),t.assignment("*="),t.assignment("/="),t.prefix("|",function(){this.arity="valueConverter";const e=t.expression(0);this.value=e.value;const n=[];for(this.args=n;":"===t.currentToken.id;)t.advance(","),n.push(t.expression(0));return this.args.unshift(t.statementsArray.pop()),t.currentStatement=this,this}),t.prefix("&",function(){this.arity="behavior";const e=t.expression(0);this.value=e.value;const n=[];for(this.args=n;":"===t.currentToken.id;)t.advance(","),n.push(t.expression(0));return this}),t.prefix("${",function(){return this.e=t.expression(0),t.advance("}"),this.e}),t.prefix("@{",function(){const e=t.expression(0);return t.advance("}"),e}),t.infixr("&&",30),t.infixr("||",30),t.symbol(";").nud=function(){return null}}},e.f[35]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(27),s=e.r(30),i=e.r(36),a=e.r(7),o=e.r(39),l=e.r(25);n.createBindingExpression=function(e,t,n){let c,h=[];if(e){if(n.attributesValues)h=n.attributesValues;else{let i,u=[],d=[];if(a.Cache.expressionMap.has(e)){const t=a.Cache.expressionMap.get(e);c=t.ast,i=t.tokens,u=t.tokenValues,d=t.tokenObject}else{i=r.tokenize(e),c=s.generateAST(i);let t=null,n=[];for(let e=0;e<i.length;e++){const r=i[e];"variable"===r.type?t?(t+=r.value,n.push(r.value)):(t=r.value,n.push(r.value)):"operator"===r.type&&"."===r.value?t&&(t+="."):"operator"===r.type&&"["===r.value&&i[e+2]&&"operator"===i[e+2].type&&"]"===i[e+2].value?(t&&(t=t+"["+i[e+1].value+"]"),e+=2):t&&(u.push(t),t=null,d.push(n),n=[])}t&&(u.push(t),d.push(n),n=[],t=null),a.Cache.expressionMap.set(e,{ast:c,tokens:i,tokenValues:u,tokenObject:d})}u.forEach(e=>{const n=l.getCorrectContext(e,t);"string"==typeof e&&"$"!==e[0]&&n&&n.__bindingContext&&n.$context.__proto__&&n.$context.__proto__[o.CONSTANTS.META_COMPUTEDFROM]&&n.$context.__proto__[o.CONSTANTS.META_COMPUTEDFROM][e]?n.$context.__proto__[o.CONSTANTS.META_COMPUTEDFROM][e].attributes.forEach(e=>{-1===h.indexOf(e)&&h.push(e)}):-1===h.indexOf(e)&&h.push(e)}),n.setAst(c)}for(let e=0;e<h.length;e++){const r=l.getCorrectContext(h[e],t);i.ClassPropertyObserverCreator.create(r||t,h[e],n)}n.init(),n.attributesValues=h}},n.removeBindingExpression=function(e,t,n){if(e&&n.attributesValues){const e=n.attributesValues;for(let r=0;r<e.length;r++){const s=l.getCorrectContext(e[r],t);i.ClassPropertyObserverCreator.remove(s||t,e[r],n)}}}},e.f[36]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(37),s=e.r(7),i=class{};class a{static create(e,t,n){this.classRef=e&&e.$context,this.classRef&&(this.keyParts=s.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],a.processKeys(n),a.clear())}static remove(e,t,n){this.classRef=e&&e.$context,this.keyParts=s.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts&&this.keyParts[this.keyNo],a.removeKeys(n),a.clear()}static clear(){this.classRef=null,this.keyParts=null,this.keyNo=null,this.keyBlock=null}static nextKey(){this.keyNo++,this.keyBlock=this.keyParts[this.keyNo]}static processKeys(e){this.classRef.__observer||Object.defineProperty(this.classRef,"__observer",{writable:!0,configurable:!0,value:new i}),this.classRef.__observer[this.keyBlock]?(this.classRef.__observer[this.keyBlock].subscribe(e),this.classRef.__observer[this.keyBlock].observe()):s.Cache.observer.length?(this.classRef.__observer[this.keyBlock]=s.Cache.observer.pop(),this.classRef.__observer[this.keyBlock].reInit(this.classRef,this.keyBlock),this.classRef.__observer[this.keyBlock].subscribe(e)):(this.classRef.__observer[this.keyBlock]=new r.ClassPropertyObserver(this.classRef,this.keyBlock),this.classRef.__observer[this.keyBlock].subscribe(e)),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.processKeys(e))}static removeKeys(e){this.classRef&&this.classRef.__observer&&this.classRef.__observer[this.keyBlock]&&this.classRef.__observer[this.keyBlock].unsubscribe(e),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.removeKeys(e))}}n.ClassPropertyObserverCreator=a},e.f[37]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(38);n.ClassPropertyObserver=class{constructor(e,t){this._class=e,this.key=t,this.setterBind=this.setter.bind(this),this.getterBind=this.getter.bind(this),"object"==typeof this._class&&(this.value=this._class[this.key],this.observe())}reInit(e,t){this._class=e,this.key=t,"object"==typeof this._class&&(this.value=this._class[this.key],this.observe())}clear(){this.c1=null,this.c2=null,this.c3=null,this.c4=null,this.c5=null,this.callers&&(this.callers=null),this._class=null,this.key=null}unsubscribe(e){this.c1===e&&(this.c1=null),this.c2===e&&(this.c2=null),this.c3===e&&(this.c3=null),this.c4===e&&(this.c4=null),this.c5===e&&(this.c5=null),this.callers&&-1!==this.callers.indexOf(e)&&this.callers.splice(this.callers.indexOf(e),1)}subscribe(e){this.c1!==e&&this.c2!==e&&this.c3!==e&&this.c4!==e&&this.c5!==e&&(this.c1?this.c2?this.c3?this.c4?this.c5?(this.callers||(this.callers=[]),-1===this.callers.indexOf(e)&&this.callers.push(e)):this.c5=e:this.c4=e:this.c3=e:this.c2=e:this.c1=e)}forceUpdate(){if(this.c1){const e=this.c1;this.c1=void 0,e.update()}if(this.c2){const e=this.c2;this.c2=void 0,e.update()}if(this.c3){const e=this.c3;this.c3=void 0,e.update()}if(this.c4){const e=this.c4;this.c4=void 0,e.update()}if(this.c5){const e=this.c5;this.c5=void 0,e.update()}if(this.callers&&this.callers.length>0){const e=this.callers.slice();this.callers=[];for(let t=0;t<e.length;t++)e[t].update()}}observe(){const e=Reflect.getOwnPropertyDescriptor(this._class.__proto__,this.key);let t=null;e&&(t=e.get||e.set)&&console.warn("skipping dirty observer - no-dirty  //todo remove this message"),null===t&&(Reflect.defineProperty(this._class,this.key,{configurable:!0,enumerable:!0,set:this.setterBind,get:this.getterBind})||console.warn("This key could not be observed:"+this.key))}setter(e){if(e!==this.value){if("object"==typeof e&&(e&&e.__observer&&(e.__observer=null),e&&e.__observerArray&&(e.__observerArray=null)),this.value.__observer)for(const e in this.value.__observer)this.value.__observer[e]&&(r.Cache.observer.push(this.value.__observer[e]),this.value.__observer[e].clear());if(this.value=e,this.c1){const e=this.c1;this.c1=void 0,e.update()}if(this.c2){const e=this.c2;this.c2=void 0,e.update()}if(this.c3){const e=this.c3;this.c3=void 0,e.update()}if(this.c4){const e=this.c4;this.c4=void 0,e.update()}if(this.c5){const e=this.c5;this.c5=void 0,e.update()}if(this.callers&&this.callers.length>0){const e=this.callers.slice();this.callers=[];for(let t=0;t<e.length;t++)e[t].update()}}}getter(){return this.value}}},e.f[38]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=new Map,r=new Map,s=new Map,i=new Map;let a={};const o=function(e){return e.split(/\.|\[([^\]]+)\]\.?/).filter(e=>e||null)};class l{static clear(){n.clear(),r.clear(),s.clear(),i.clear(),a={}}}l.templateMap=n,l.expressionMap=r,l.astMap=s,l.splitMap=i,l.observer=[],l.keyMaps={has:e=>!!a[e],get:e=>a[e],set(e){const t=o(e);return a[e]=t,t},getCreate(e){if(a[e])return a[e];{const t=o(e);return a[e]=t,t}}},t.Cache=l},e.f[39]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(40);n.IElement=r.IElement;var s=e.r(41);n.IAttribute=s.IAttribute;var i=e.r(42);n.IControllerArray=i.IControllerArray;var a=e.r(43);n.IControllerObject=a.IControllerObject;var o=e.r(44);n.CONSTANTS=o.CONSTANTS;var l=e.r(45);n.IListener=l.IListener;var c=e.r(46);n.ITokens=c.ITokens;var h=e.r(47);n.IFetchConfig=h.IFetchConfig;var u=e.r(48);n.IBindingContext=u.IBindingContext;var d=e.r(49);n.ITemplateCache=d.ITemplateCache},e.f[40]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[41]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[42]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[43]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[44]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.META_BINDABLE="__MF__bindable"]="META_BINDABLE",e[e.META_COMPUTEDFROM="__MF__computed_from"]="META_COMPUTEDFROM",e[e.CONTAINER_FREE="__MF__containerless"]="CONTAINER_FREE",e[e.SHADOW_DOM="__MF__shadowdom"]="SHADOW_DOM"}(t.CONSTANTS||(t.CONSTANTS={}))},e.f[45]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[46]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[47]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[48]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[49]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[50]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(51);n.subscribeClassProperty=function(e,t,n){const s=new r.PropertyObserverHandler(t,n);s.bind(e),n.caller=s}},e.f[51]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(24),s=e.r(35),i=e.r(11);n.PropertyObserverHandler=class{constructor(e,t){this.value=void 0,this.isNew=!0,this.expression=e,this.listener=t}bind(e){this.observing=!0,this.context=e,s.createBindingExpression(this.expression,this.context,this)}setAst(e){this.ast=e,this.curBehavior||this.connectBehavior()}init(){if(this.isNew){this.isNew=!1;const e=this.value,t=r.traverseAST(this.ast,this.context);this.value=t,this.listenerCall(t,e),this.isNew=!1}}connectBehavior(){const e=r.getBehavior(this.ast);e&&e.forEach(e=>{if("signal"===e.name){const t=i.ContainerBehavior.findBehavior(e.name);t&&(this.curBehavior=new t(this,e.args))}})}update(){const e=r.traverseAST(this.ast,this.context),t=this.value;this.value=e,this.listenerCall(e,t),this.bind(this.context)}listenerCall(e,t){this.listener&&this.listener.call(e,t)}unbind(){this.observing&&s.removeBindingExpression(this.expression,this.context,this),this.listener.caller=null,this.observing=!1,this.context=null,this.listener=null,this.value=null}}},e.f[52]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unSubscribeClassProperty=function(e,t){t.caller&&t.caller.unbind()}},e.f[53]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(24),s=e.r(27),i=e.r(30),a=e.r(7);n.evaluateExpression=function(e,t){if(e){let n;if(a.Cache.astMap.has(e))n=a.Cache.astMap.get(e);else{const t=s.tokenize(e);n=i.generateAST(t),a.Cache.astMap.set(e,n)}return r.traverseAST(n,t)}return""}},e.f[54]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(55);n.subscribeClassArray=function(e,t,n){const s=new r.ArrayObserverHandler(t,n);s.bind(e),n.caller=s}},e.f[55]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(56);n.ArrayObserverHandler=class{constructor(e,t){this.expression=e,this.listener=t,this.expression=e,this.listener=t}bind(e){this.observing=!0,this.context=e,r.ClassArrayObserverCreator.create(this.context,this.expression,this)}update(e){this.listener&&this.listener.call(e),this.bind(this.context)}unbind(){this.observing&&r.ClassArrayObserverCreator.remove(this.context,this.expression,this),this.listener.caller=null,this.listener=null,this.observing=!1,this.context=null,this.expression=null}}},e.f[56]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(57),s=e.r(7),i=class{};class a{static create(e,t,n){this.classRef=e&&e.$context,this.classRef&&(this.keyParts=s.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],a.processKeys(n),a.clear())}static remove(e,t,n){this.classRef=e.$context,this.keyParts=s.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],a.removeKeys(n),a.clear()}static clear(){this.classRef=null,this.keyParts=null,this.keyNo=null,this.keyBlock=null}static nextKey(){this.keyNo++,this.keyBlock=this.keyParts[this.keyNo]}static processKeys(e){this.classRef.__observerArray||Object.defineProperty(this.classRef,"__observerArray",{writable:!0,configurable:!0,value:new i}),this.classRef.__observerArray[this.keyBlock]?(this.classRef.__observerArray[this.keyBlock].subscribe(e),this.classRef.__observerArray[this.keyBlock].observe()):(this.classRef.__observerArray[this.keyBlock]=new r.ClassArrayObserver(this.classRef,this.keyBlock),this.classRef.__observerArray[this.keyBlock].subscribe(e)),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.processKeys(e))}static removeKeys(e){this.classRef.__observerArray&&this.classRef.__observerArray[this.keyBlock]&&this.classRef.__observerArray[this.keyBlock].unsubscribe(e),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.removeKeys(e))}}n.ClassArrayObserverCreator=a},e.f[57]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});["pop","push","reverse","shift","sort","splice","unshift","sort"].forEach(e=>{const t=Array.prototype[e];Array.prototype[e]=function(){const n=t.apply(this,arguments);return this.__array_observer__class&&this.__array_observer__class.check(arguments,e),n}});t.ClassArrayObserver=class{constructor(e,t){this._class=e,this.key=t,this.internalEvents=[],this.timer=null,"object"==typeof this._class&&this.observe()}subscribe(e){this.c1!==e&&this.c2!==e&&this.c3!==e&&this.c4!==e&&this.c5!==e&&(this.c1?this.c2?this.c3?this.c4?this.c5?(this.callers||(this.callers=[]),-1===this.callers.indexOf(e)&&this.callers.push(e)):this.c5=e:this.c4=e:this.c3=e:this.c2=e:this.c1=e)}unsubscribe(e){this.c1===e&&(this.c1=null),this.c2===e&&(this.c2=null),this.c3===e&&(this.c3=null),this.c4===e&&(this.c4=null),this.c5===e&&(this.c5=null),this.callers&&-1!==this.callers.indexOf(e)&&this.callers.splice(this.callers.indexOf(e),1)}check(e,t){clearTimeout(this.timer),this.timer=0,this.internalEvents.push({event:t,args:e}),this.timer=setTimeout(()=>{if(this.c1){const e=this.c1;this.c1=void 0,e.update(this.internalEvents)}if(this.c2){const e=this.c2;this.c2=void 0,e.update(this.internalEvents)}if(this.c3){const e=this.c3;this.c3=void 0,e.update(this.internalEvents)}if(this.c4){const e=this.c4;this.c4=void 0,e.update(this.internalEvents)}if(this.c5){const e=this.c5;this.c5=void 0,e.update(this.internalEvents)}if(this.callers&&this.callers.length>0){const e=this.callers.slice();this.callers=[],e.forEach(e=>{e.update(this.internalEvents)})}if(this.internalEvents=null,this.internalEvents=[],this._class[this.key]&&this._class[this.key].__observer)for(const e in this._class[this.key].__observer)this._class[this.key].__observer[e]&&this._class[this.key].__observer[e].forceUpdate&&this._class[this.key].__observer[e].forceUpdate()},0)}observe(){this._class[this.key]&&Array.isArray(this._class[this.key])&&Object.defineProperty(this._class[this.key],"__array_observer__class",{writable:!0,configurable:!0,value:this})}}},e.f[58]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unSubscribeClassArray=function(e,t){t.caller&&t.caller.unbind()}},e.f[59]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(39),s=e.r(52);n.unSubscribeClassMetaBinding=function(e){const t=e.__proto__[r.CONSTANTS.META_BINDABLE];if(t){const n=Object.keys(t);for(const r of n){const n=e.__metaBinding[r],i=n.options.subscribeInternal;i&&s.unSubscribeClassProperty(e.$bindingContext,i);const a=n.options.subscribeExternal;if(e.$bindingContext&&a&&e.$element){const n=e.$element,i=`${t[r].options.attribute}.bind`;n.getAttribute(i)&&s.unSubscribeClassProperty(e.$bindingContext,a)}}}}},e.f[60]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(50),s=e.r(23),i=e.r(39),a=e.r(61),o=class{constructor(e,t,n){this._class=e,this.key=t,this.meta=n}call(e,t){if(t!==e){const n=this.key,r=this._class,s=this.meta;r.$bindingContext&&n in r.$bindingContext.$context&&r.$bindingContext.$context[n]!==e&&(r.$bindingContext.$context[n]=e),r[`${n}Changed`]&&r[`${n}Changed`](e,t),r.attributesChanged&&r.attributesChanged(n,e,t),s[n].options.changeHandler&&r[s[n].options.changeHandler](n,e,t)}}};n.subscribeClassMetaBinding=function(e){const t=e.__proto__[i.CONSTANTS.META_BINDABLE];if(t){const n=Object.keys(t);for(const i of n){e.__metaBinding||(e.__metaBinding={}),e.__metaBinding[i]||(e.__metaBinding[i]={},e.__metaBinding[i].key=i,e.__metaBinding[i].options={});const l=e.__metaBinding[i],c=new o(e,i,t);if(r.subscribeClassProperty(a.createBindingContext(e),i,c),l.options.subscribeInternal=c,!0===t[i].observableOnly);else if(e.$attributes&&!e.$attribute){if(e.$element&&e.$bindingContext){const n=e.$element;let a=`${t[i].options.attribute}.bind`,o=n.getAttribute(a);if(o){const t=Object.create({call:(t,n)=>{n!==t&&(e[i]=t)}});r.subscribeClassProperty(e.$bindingContext,o,t),l.options.subscribeExternal=t}else if(a=`${t[i].options.attribute}`,o=n.getAttribute(a))if(-1!==o.indexOf("${")||-1!==o.indexOf("@{")){const t=s.BindingEngine.tokenizeParseAndTraverseAST(o,e.$bindingContext);t&&(e[i]=t)}else e[i]=o}}else if(e.$element&&e.$bindingContext)if(1===n.length&&"value"===i){const t=e.$element,n=e.$attribute.name,a=n.indexOf(".bind");let o=t.getAttribute(n);if(-1!==a){const t=Object.create({call:(t,n)=>{n!==t&&(e[i]=t)}});r.subscribeClassProperty(e.$bindingContext,o,t),l.options.subscribeExternal=t}else if(o=t.getAttribute(n))if(-1!==o.indexOf("${")||-1!==o.indexOf("@{")){const t=s.BindingEngine.tokenizeParseAndTraverseAST(o,e.$bindingContext);t&&(e[i]=t)}else e[i]=o}else{const n=e.$element,a=e.$attribute.name;let o=`${t[i].options.attribute}.bind`;const c=n.getAttribute(a)?n.getAttribute(a).split(";"):null;if(c){let n;if(c.forEach(e=>{const t=e.split(":");t&&t[0].trim()===o&&(n=t[1])}),n){const t=Object.create({call:(t,n)=>{n!==t&&(e[i]=t)}});r.subscribeClassProperty(e.$bindingContext,n,t),l.options.subscribeExternal=t}else{let n;if(o=`${t[i].options.attribute}`,c.forEach(e=>{const t=e.split(":");t&&t[0].trim()===o&&(n=t[1])}),n)if(-1!==n.indexOf("${")||-1!==n.indexOf("@{")){const t=s.BindingEngine.tokenizeParseAndTraverseAST(n,e.$bindingContext);t&&(e[i]=t)}else e[i]=n}}}}}}},e.f[61]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t,n){this.$context=e,this.$overrideContext=t,this.$event=n,this.__bindingContext=!0}}t.BindingContext=n,t.createBindingContext=function(e,t,r){return new n(e,t,r)}},e.f[62]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(39),s=e.r(63),i=e.r(21),a=e.r(11),o=e.r(22),l=e.r(7),c=e.r(7);n.ElementController=class{constructor(e,t,n,s,o,h){this.bindingContext=e,this.htmlNode=t,this._process=!0,this.internalAttached=!1,this.logger=l.Logger.getLogger(t.tagName,"element"),this.templateString=o,n?this.logger.log("constructor - using supplied class"):this.logger.log("constructor"),this.classInstance=n||a.ContainerClasses.get(s),this.viewController=new i.ViewController(t,h),this.viewController.addElement(this),this.classInstance.__proto__[r.CONSTANTS.CONTAINER_FREE]&&(this.anchorNode=c.DOM.document.createComment("containerless-anchor"),this.elements=[]),this.classInstance.__proto__[r.CONSTANTS.SHADOW_DOM]&&(this.shadowDom=!0)}searchForInstance(e){return this.viewController.searchForInstance(e)}getView(){return this.viewController}init(){if(this.classInstance.$element=this.htmlNode,this.classInstance.$bindingContext=this.bindingContext,this.classInstance.$attributes=this.htmlNode.attributes,this.classInstance.$controller=this,this.shadowDom)if(this.classInstance.__proto__[r.CONSTANTS.CONTAINER_FREE])console.warn("containerfree can not be used with showdow dom");else{const e=this.classInstance.__proto__[r.CONSTANTS.SHADOW_DOM].mode;try{this.htmlNode=this.classInstance.$shadowdom,this.classInstance.$shadowdom=this.htmlNode.attachShadow({mode:e})}catch(e){console.warn("error adding showdow dom:",e)}}o.BindingEngine.subscribeClassMetaBinding(this.classInstance);const e=this.loadTemplate();return Promise.resolve(e).then(e=>{this.templateString=this.templateString||e||"<template></template>";let t=[];if(this.template=s.View.createTemplate(this.templateString),this.create(),this.processContent(),this._process&&(t=s.View.parseTemplate(this.template,o.createBindingContext(this.classInstance),this.viewController)),this._process){for(;this.template.childNodes.length;)this.anchorNode?(this.htmlNode.parentNode.insertBefore(this.anchorNode,this.htmlNode.nextSibling),this.elements.push(this.template.firstChild),this.anchorNode.parentNode.insertBefore(this.template.firstChild,this.anchorNode.nextSibling)):this.htmlNode.appendChild(this.template.firstChild);this.anchorNode&&this.htmlNode.parentNode.removeChild(this.htmlNode)}t.reverse(),this.contentProcessed(t),t.forEach(e=>{e.attached&&e.attached()}),this.internalAttached=!0,this.attached()}),this}loadTemplate(){return this.logger.log("loadTemplate"),this.templateString?this.templateString:this.classInstance.loadTemplate&&this.classInstance.loadTemplate()}create(){this.logger.log("create"),this.classInstance.created&&this.classInstance.created()}processContent(){if(this.logger.log("processContent"),this.classInstance.processContent)this._process=this.classInstance.processContent(this.template);else for(;this.htmlNode.childNodes[0];)this.template.appendChild(this.htmlNode.childNodes[0])}contentProcessed(e){this.logger.log("contentProcessed"),this.classInstance.contentProcessed&&this._process&&this.classInstance.contentProcessed(e)}attached(){this.internalAttached&&(this.classInstance.$element.parentNode?this.logger.log("attached"):this.logger.log("attached","missing parent node")),this.classInstance.attached&&this.internalAttached&&(this.internalAttached=!1,this.classInstance.attached())}detached(){this.logger.log("detached"),this.classInstance.detached&&this.classInstance.detached(),o.BindingEngine.unSubscribeClassMetaBinding(this.classInstance),this.anchorNode&&(this.elements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.anchorNode.parentNode&&this.anchorNode.parentNode.removeChild(this.anchorNode)),this.anchorNode=null,this.elements=null,this.bindingContext=null,this.htmlNode=null,this.classInstance.$element=null,this.classInstance.$bindingContext=null,this.classInstance.$attributes=null,this.classInstance.$controller=null,this.classInstance=null,this.viewController=null}}},e.f[63]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11),s=e.r(11),i=e.r(7),a=e.r(20),o=e.r(62),l=e.r(64),c=e.r(7);class h{static parseAndCreateElement(e,t,n,r,s){return new o.ElementController(n,t,e,null,r,s).init()}static cleanTemplate(e){const t=e=>{for(let n=0;n<e.childNodes.length;n++){let r=e.childNodes[n];8===r.nodeType||3===r.nodeType&&!/\S/.test(r.nodeValue)?(e.removeChild(r),n--):1===r.nodeType&&t(r),r=null}};t(e)}static createTemplate(e){let t;if(i.Cache.templateMap.has(e))t=i.Cache.templateMap.get(e);else{const n=c.DOM.document.createElement("div");n.innerHTML=e.default||e;const r=n.firstElementChild;if(!r.content)for(r.content=c.DOM.document.createDocumentFragment();r.childNodes[0];)r.content.appendChild(r.childNodes[0]);t=c.DOM.document.createElement("mf-template"),h.cleanTemplate(r.content),t.appendChild(r.content),i.Cache.templateMap.set(e,t)}const n=t.cloneNode(!0);return t=null,n}static attachTemplate(e,t,n){const r=[];for(;e.firstChild;)r.push(e.firstChild),t.appendChild(e.firstChild);return n.forEach(e=>{e.attached&&e.attached()}),r}static clearViews(e,t){t&&t.clearView(),e.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)})}static parseTemplate(e,t,n){const r=h.createTemplateCache(e);return h.parseTemplateCache(e,t,n,r)}static parseTemplateCache(e,t,n,r){const s=[],i=r.slice().reverse(),c=function(e){for(let r=0;r<e.childNodes.length;r++){const h=e.childNodes[r],u=i.pop();switch(u.attributes.forEach(e=>{let r,i;switch(e.type){case"controller":i=h.getAttributeNode(e.name),r=new a.AttributeController(t,h,i,e.container,n),s.push(r);break;case"value":i=h.getAttributeNode(e.name),r=new l.InterpolateController(t,i,n,!0),s.push(r);break;case"attribute":i=h.getAttributeNode(e.name),r=new a.AttributeController(t,h,i,e.container,n),s.push(r)}}),u.type){case"element":const e=new o.ElementController(t,h,null,u.container,null,n);s.push(e);break;case"text":const r=new l.InterpolateController(t,h,n,!1);s.push(r);break;default:u.gotoChild&&c(h)}}};return c({childNodes:[e]}),s.forEach(e=>{e.init()}),s}static createTemplateCache(e){const t=[],n=function(e){for(let i=0;i<e.childNodes.length;i++){const a=e.childNodes[i],o={type:"blank",attributes:[],container:null,gotoChild:!1};t.push(o);let l=!1;if(a.getAttribute&&["repeat.for","if.bind"].forEach(e=>{if(!l){const t=a.getAttributeNode(e);if(t){l=!0;const n=s.ContainerAttributes.findAttribute(t.name);o.attributes.push({type:"controller",name:e,container:n})}}}),!l){const e=[],t=a.attributes&&a.attributes.length||0;for(let n=0;n<t;n++)e.push(a.attributes[n]);for(let t=0;t<e.length;t++){const n=e[t];let r=s.ContainerAttributes.findAttribute(n.name);!r&&n.name&&!(r=s.ContainerAttributes.findAttribute(n.name.replace(".bind","")))&&n.name&&(r=s.ContainerAttributes.findAttribute(h.getAttributeExpression(n.name))),r?o.attributes.push({type:"attribute",name:n.name,container:r}):-1===n.value.indexOf("${")&&-1===n.value.indexOf("@{")||-1===n.name.indexOf(".bind")&&o.attributes.push({type:"value",name:n.name,container:null})}}if(!l)if(1===a.nodeType){const e=r.ContainerElements.findElement(a.localName);e?(o.type="element",o.container=e):a.childNodes&&(o.gotoChild=!0,n(a))}else a.textContent&&(-1===a.textContent.indexOf("${")&&-1===a.textContent.indexOf("@{")||(o.type="text"))}};return n({childNodes:[e]}),t}static getAttributeExpression(e){const t=-1!==e.indexOf("@")?e.indexOf("@"):0,n=-1!==e.lastIndexOf(".")?e.lastIndexOf("."):e.length,r=e.substring(t,n);return e.replace(r,"#VARIABLE#")}}n.View=h},e.f[64]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(22),s=e.r(7),i=class{constructor(e){this.firstRun=!0,this.name="Interpolate",this.node=e}call(e,t){(t!==e||this.firstRun)&&(this.firstRun=!1,2===this.node.nodeType?this.node.value=e:this.node.data=e)}};n.InterpolateController=class{constructor(e,t,n,r){this.bindingContext=e,this.htmlNode=t,this.isAttibuteNode=!1,t.data||(this.isAttibuteNode=!0),this.logger=s.Logger.getLogger(this.isAttibuteNode?t.value.trim():t.data.trim(),"interpolate"),n.addInterpolate(this)}init(){this.logger.log("init"),this.subscribeInternal=new i(this.htmlNode),r.BindingEngine.subscribeClassProperty(this.bindingContext,this.isAttibuteNode?this.htmlNode.value:this.htmlNode.data,this.subscribeInternal)}attached(){this.logger.log("attached")}detached(){this.logger.log("detached"),r.BindingEngine.unSubscribeClassProperty(this.bindingContext,this.subscribeInternal),this.subscribeInternal=null,this.bindingContext=null,this.htmlNode=null}}},e.f[65]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11),s=e.r(20),i=e.r(64);n.addAttribute=function(e,t,n,a,o,l){l=void 0===l||l;const c=[];if(e.getAttribute){e.setAttribute(n,a);const h=e.getAttributeNode(n);let u=r.ContainerAttributes.findAttribute(h.name);if(!u&&h.name&&!(u=r.ContainerAttributes.findAttribute(h.name.replace(".bind","")))&&h.name&&(u=r.ContainerAttributes.findAttribute(h.name.replace(/([@a-z]\w+\.)/g,"#VARIABLE#"))),u){const n=new s.AttributeController(t,e,h,u,o);n.init(),n&&(l&&n.attached(),c.push(n))}else if((-1!==h.value.indexOf("${")||-1!==h.value.indexOf("@{"))&&-1===h.name.indexOf(".bind")){const e=new i.InterpolateController(t,h,o,!0);e.init(),l&&e.attached(),c.push(e)}}return c}},e.f[66]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(67);n.SignalBehavior=r.SignalBehavior;var s=e.r(80);n.ThrottleBehavior=s.ThrottleBehavior;var i=e.r(81);n.DebounceBehavior=i.DebounceBehavior;var a=e.r(82);n.TriggerBehavior=a.TriggerBehavior},e.f[67]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(7),a=e.r(11).ContainerClasses.get(i.EventAggregator);let o=class{constructor(e,t){this.name=t[0]||"undefined",e.listener&&"Interpolate"===e.listener.name&&(e.unbindBackup=e.unbind,e.unbind=function(){this.unbindBackup()},a.subscribe("signal-"+this.name,function(){e.update()}))}};o=r.__decorate([s.behavior("signal"),r.__metadata("design:paramtypes",[Object,Object])],o),n.SignalBehavior=o},e.f[68]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(69);n.inject=r.inject;var s=e.r(70);n.transient=s.transient;var i=e.r(71);n.customAttribute=i.customAttribute;var a=e.r(72);n.customElement=a.customElement;var o=e.r(73);n.bindable=o.bindable;var l=e.r(74);n.observable=l.observable;var c=e.r(75);n.computedFrom=c.computedFrom;var h=e.r(76);n.valueConverter=h.valueConverter;var u=e.r(77);n.behavior=u.behavior;var d=e.r(78);n.containerfree=d.containerfree;var p=e.r(79);n.shadowdom=p.shadowdom},e.f[69]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11);n.inject=function(...e){return function(t){r.ContainerClasses.setDep(t,e)}}},e.f[70]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11);n.transient=function(e){r.ContainerClasses.regTransient(e)}},e.f[71]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11),s=e.r(11);n.customAttribute=function(e){return function(t){r.ContainerClasses.regTransient(t),s.ContainerAttributes.regAttribute(t,e)}}},e.f[72]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11),s=e.r(11);n.customElement=function(e){return function(t){r.ContainerClasses.regTransient(t),s.ContainerElements.regElement(t,e)}}},e.f[73]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(39);n.bindable=function(e){let t;return t=e,function(n,s){n[r.CONSTANTS.META_BINDABLE]||(n[r.CONSTANTS.META_BINDABLE]={});const i=s.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();e&&(e.attribute||(e.attribute=i)),n[r.CONSTANTS.META_BINDABLE][s]||(n[r.CONSTANTS.META_BINDABLE][s]={key:s,options:t||{attribute:i}})}}},e.f[74]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(39);n.observable=function(e){let t;return t=e,function(n,s){n[r.CONSTANTS.META_BINDABLE]||(n[r.CONSTANTS.META_BINDABLE]={}),e&&(e.attribute||(e.attribute=null)),n[r.CONSTANTS.META_BINDABLE][s]||(n[r.CONSTANTS.META_BINDABLE][s]={key:s,observableOnly:!0,options:t||{attribute:null}})}}},e.f[75]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(39);n.computedFrom=function(...e){let t;return t=e,function(e,n){e[r.CONSTANTS.META_COMPUTEDFROM]||(e[r.CONSTANTS.META_COMPUTEDFROM]={}),e[r.CONSTANTS.META_COMPUTEDFROM][n]||(e[r.CONSTANTS.META_COMPUTEDFROM][n]={key:n,attributes:t||{attributes:[]}})}}},e.f[76]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11),s=e.r(11);n.valueConverter=function(e){return function(t){r.ContainerClasses.regTransient(t),s.ContainerValueConverters.regConverter(t,e)}}},e.f[77]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(11),s=e.r(11);n.behavior=function(e){return function(t){r.ContainerClasses.regTransient(t),s.ContainerBehavior.regBehavior(t,e)}}},e.f[78]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(39);n.containerfree=function(){return function(e){e.prototype[r.CONSTANTS.CONTAINER_FREE]=!0}}},e.f[79]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(39);n.shadowdom=function(e){let t;return t=e,function(n){n.prototype[r.CONSTANTS.SHADOW_DOM]||(n.prototype[r.CONSTANTS.SHADOW_DOM]={});let s=t&&e.mode;"open"!==s&&(s="closed"),n.prototype[r.CONSTANTS.SHADOW_DOM]={mode:s}}}},e.f[80]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68);let i=class{constructor(e,t){const n=t[0]||100;e.eventHandlerBinded&&(e.eventHandlerBindedBackup=e.eventHandlerBinded,e.detachedBackup=e.detached,e.detached=function(){e.detachedBackup()},e.eventHandlerBinded=function(){this.timerBehavior||(this.timerBehavior=setTimeout(()=>{e.eventHandlerBindedBackup(),this.timerBehavior=null},n))}.bind(e))}};i=r.__decorate([s.behavior("throttle"),r.__metadata("design:paramtypes",[Object,Object])],i),n.ThrottleBehavior=i},e.f[81]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68);let i=class{constructor(e,t){const n=t[0]||100;e.eventHandlerBinded&&(e.eventHandlerBindedBackup=e.eventHandlerBinded,e.detachedBackup=e.detached,e.detached=function(){e.detachedBackup()},e.eventHandlerBinded=function(){this.timerBehavior&&(clearTimeout(this.timerBehavior),this.timerBehavior=null),this.timerBehavior=setTimeout(()=>{e.eventHandlerBindedBackup()},n)}.bind(e))}};i=r.__decorate([s.behavior("debounce"),r.__metadata("design:paramtypes",[Object,Object])],i),n.DebounceBehavior=i},e.f[82]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68);let i=class{constructor(e,t){const n=t;e.eventHandlerBinded&&"trigger"in e&&n&&(e.trigger=n)}};i=r.__decorate([s.behavior("updateTrigger"),r.__metadata("design:paramtypes",[Object,Object])],i),n.TriggerBehavior=i},e.f[83]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e.r(84);n.IfAttribute=r.IfAttribute;var s=e.r(85);n.ValueAttribute=s.ValueAttribute;var i=e.r(86);n.DelgateEventsAttribute=i.DelgateEventsAttribute;var a=e.r(87);n.TriggerEventsAttribute=a.TriggerEventsAttribute;var o=e.r(88);n.RepeatAttribute=o.RepeatAttribute;var l=e.r(90);n.MiscAttributes=l.MiscAttributes;var c=e.r(91);n.CssAttribute=c.CssAttribute;var h=e.r(92);n.ModelAttribute=h.ModelAttribute},e.f[84]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(19),a=e.r(22),o=e.r(7);let l=class{created(){this.value=this.$attribute.value,this.$element.attributes.removeNamedItem("if.bind"),this.$view=this.$controller.getView(),this.elementClone=this.$element.cloneNode(!0),this.templateElement="TEMPLATE"===this.elementClone.tagName,this.$element.style.display="None",this.added=!1}attached(){this.anchor=o.DOM.document.createComment("mf-if-bind"),this.$element.parentNode.insertBefore(this.anchor,this.$element),this.remove(),this.subscribeCall={name:"ifAttribute",value:this.value,call:e=>{switch(!0){case e&&!this.added:this.added=!0,this.add();break;case!e&&this.added:this.remove()}}},a.BindingEngine.subscribeClassProperty(this.$bindingContext,this.value,this.subscribeCall)}detached(){a.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.subscribeCall),this.remove(),this.anchor&&(this.anchor.parentNode.removeChild(this.anchor),this.anchor=null)}add(){const e=this.elementClone.cloneNode(!0);if(this.templateElement&&!e.content)for(e.content=o.DOM.document.createDocumentFragment();e.childNodes[0];)e.content.appendChild(e.childNodes[0]);let t;if(this.$element=e,this.$templateView=new i.ViewController(e,this.$view),this.templateElement){(t=o.DOM.document.createElement("div")).appendChild(e.content),this.childNodes=[];let n=o.DOM.document.createComment("ifbind-template-anchor-start");this.childNodes.push(n);for(let e=0,n=t.childNodes.length;e<n;e++)this.childNodes.push(t.childNodes[e]);n=o.DOM.document.createComment("ifbind-template-anchor-end"),this.childNodes.push(n)}let n=i.View.parseTemplate(this.templateElement?t:this.$element,this.$bindingContext,this.$templateView);if(this.templateElement){this.anchor.parentNode.insertBefore(this.childNodes[0],this.anchor);for(let e=1,t=this.childNodes.length;e<t;e++)this.anchor.parentNode.insertBefore(this.childNodes[e],this.childNodes[e-1].nextSibling)}else this.anchor.parentNode.insertBefore(this.$element,this.anchor);n.forEach(e=>{e.attached&&e.attached()}),n=null}remove(){if(this.added&&(this.added=!1,this.$templateView.clearView(),this.$templateView=null),this.$element){if(this.templateElement&&this.childNodes)for(let e=0,t=this.childNodes.length;e<t;e++)this.childNodes[e].parentNode===this.anchor.parentNode&&this.anchor.parentNode.removeChild(this.childNodes[e]);else this.anchor.parentNode===this.$element.parentNode&&this.anchor.parentNode.removeChild(this.$element);this.$element=null}}};l=r.__decorate([s.customAttribute("if.bind")],l),n.IfAttribute=l},e.f[85]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(22),a=e.r(7);class o{constructor(e){this.node=e,this.firstRun=!0,this.name="valueAttribute"}call(e,t){if(t!==e||this.firstRun){switch(this.value=e,!0){case"textarea"===this.node.type:case"checkbox"!==this.node.type&&"radio"!==this.node.type&&"select-multiple"!==this.node.type&&"select-one"!==this.node.type:this.node.value=e||"";break;case"checkbox"===this.node.type:const t=this.node.hasAttribute("model.bind")?this.node.getAttributeNode("model.bind"):null;if(t&&t.getContent){const n=t.getContent();n&&(Array.isArray(e)?-1!==e.indexOf(n.value)?this.node.checked=!0:this.node.checked=!1:e===n.value?this.node.checked=!0:this.node.checked=!1)}else Array.isArray(e)?console.warn("error: value is array, this should not happen"):this.node.checked=e||!1;break;case"radio"===this.node.type:if(this.node){const t=this.node.hasAttribute("model.bind")?this.node.getAttributeNode("model.bind"):null;if(t&&t.getContent){const n=t.getContent();n&&e===n.value&&(this.node.checked=!0)}}break;case"select-one"===this.node.type:const n=this.node.options;let r=null;for(let t=0;t<n.length;t++){const s=n[t].hasAttribute("model.bind")?n[t].getAttributeNode("model.bind"):null;if(s&&s.getContent){const n=s.getContent();n&&(Array.isArray(e)?e[0]===n.value&&(r=t):e===n.value&&(r=t))}}this.node.selectedIndex=r;break;case"select-multiple"===this.node.type:const s=this.node.options;for(let t=0;t<s.length;t++){const n=s[t].hasAttribute("model.bind")?s[t].getAttributeNode("model.bind"):null;if(n&&n.getContent){const r=n.getContent();r&&(Array.isArray(e)?(-1!==e.indexOf(r.value)?s[t].selected=!0:s[t].selected=!1,0===e.length&&null===r.value&&(s[t].selected=!0)):e===r.value?s[t].selected=!0:s[t].selected=!1)}}}this.firstRun=!1}}}n.PropertyChangeHandler=o;let l=class{constructor(){this.valueConverters=[],this.eventHandlerBinded=this.eventHandler.bind(this)}attached(){"select-multiple"===this.$element.type&&this.propertyChangeHandler.call(this.propertyChangeHandler.value,"somethign % its not")}created(){switch(this.expressionValue=this.$attribute.value,this.attributeName=this.expressionValue.split("|")[0].trim().split("&")[0].trim(),this.trigger=null,this.name=this.$attribute.name,this.propertyChangeHandler=new o(this.$element),!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expressionValue,this.propertyChangeHandler),a.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(e=>{this.$element.addEventListener(e,this.eventHandlerBinded,!1)}):this.$element.addEventListener("input",this.eventHandlerBinded,!1);break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expressionValue,this.propertyChangeHandler),a.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(e=>{this.$element.addEventListener(e,this.eventHandlerBinded,!1)}):this.$element.addEventListener("click",this.eventHandlerBinded,!1);break;case"SELECT"===this.$element.tagName:i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expressionValue,this.propertyChangeHandler),a.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(e=>{this.$element.addEventListener(e,this.eventHandlerBinded,!1)}):this.$element.addEventListener("change",this.eventHandlerBinded,!1)}}runValueConverter(e){const t=a.Cache.expressionMap.get(this.expressionValue);return i.BindingEngine.valueConvert(t.ast,this.$bindingContext,e)}detached(){switch(!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:this.trigger?this.trigger.forEach(e=>{this.$element.removeEventListener(e,this.eventHandlerBinded)}):this.$element.removeEventListener("input",this.eventHandlerBinded);break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:this.trigger?this.trigger.forEach(e=>{this.$element.removeEventListener(e,this.eventHandlerBinded)}):this.$element.removeEventListener("click",this.eventHandlerBinded);break;case"SELECT"===this.$element.tagName:this.trigger?this.trigger.forEach(e=>{this.$element.removeEventListener(e,this.eventHandlerBinded)}):this.$element.removeEventListener("change",this.eventHandlerBinded);break;default:this.$attribute.$bindingContext=null}this.propertyChangeHandler.caller&&i.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.propertyChangeHandler)}eventHandler(){switch(!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:let e=this.$element.value;"number"===this.$element.type&&(e=this.$element.valueAsNumber),"date"===this.$element.type&&(e=this.$element.valueAsDate),i.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(e));break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:const t=this.$element.hasAttribute("model.bind")?this.$element.getAttributeNode("model.bind"):null;if(t){const e=t.getContent().value;let n=i.BindingEngine.evaluateExpression(this.$attribute.nodeValue,this.$bindingContext);const r=Array.isArray(n),s=this.$element.checked;if(r)if(s){-1===n.indexOf(e)&&(n=[...n,this.runValueConverter(e)],i.BindingEngine.setValue(this.$bindingContext,this.attributeName,n))}else{const t=n.indexOf(e);-1!==t?(n.splice(t,1),n.__array_observer__class||(n=[...n]),i.BindingEngine.setValue(this.$bindingContext,this.attributeName,n)):this.$element.checked=!1}else i.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(e)||!1)}else i.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.$element.checked||!1);break;case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:const n=this.$element.hasAttribute("model.bind")?this.$element.getAttributeNode("model.bind"):null;if(n){const e=i.BindingEngine.evaluateExpression(n.nodeValue,n.getContent().$bindingContext);i.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(e))}else i.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(this.$element.checked));break;case"SELECT"===this.$element.tagName:const r=i.BindingEngine.evaluateExpression(this.$attribute.nodeValue,this.$bindingContext),s=Array.isArray(r),a=this.$element.selectedOptions.length;let o=null;if(a>1){const e=[];for(let t=0;t<a;t++){const n=this.$element.selectedOptions[t],r=n.hasAttribute("model.bind")?n.getAttributeNode("model.bind"):null,s=i.BindingEngine.evaluateExpression(r.nodeValue,r.getContent().$bindingContext);e.push(this.runValueConverter(s))}o=e}else if(0===a)o=null;else{const e=this.$element.selectedOptions[0],t=e.hasAttribute("model.bind")?e.getAttributeNode("model.bind"):null;o=i.BindingEngine.evaluateExpression(t.nodeValue,t.getContent().$bindingContext)}s?i.BindingEngine.setValue(this.$bindingContext,this.attributeName,Array.isArray(o)?o:null===o?[]:[o]):i.BindingEngine.setValue(this.$bindingContext,this.attributeName,Array.isArray(o)?o.map(e=>e):o)}}};l=r.__decorate([s.customAttribute("value.bind"),s.customAttribute("checked.bind"),r.__metadata("design:paramtypes",[])],l),n.ValueAttribute=l},e.f[86]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(22),a=e.r(7),o=e.r(61);let l=class{constructor(){}created(){this.name=this.$attribute.name.replace(".delegate",""),this.value=this.$attribute.value,this.expressionValue=this.$attribute.value,this.eventHandlerBinded=this.eventHandler.bind(this),a.connectBehavior(this.expressionValue,this),this.$element.addEventListener(this.name,this.eventHandlerBinded,!1)}attached(){}detached(){this.$element.removeEventListener(this.name,this.eventHandlerBinded)}eventHandler(e){i.BindingEngine.tokenizeParseAndTraverseAST(this.value,o.createBindingContext(this.$bindingContext.$context,this.$bindingContext.$overrideContext,e))}};l=r.__decorate([s.customAttribute("#VARIABLE#.delegate"),r.__metadata("design:paramtypes",[])],l),n.DelgateEventsAttribute=l},e.f[87]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(22),a=e.r(7),o=e.r(61);let l=class{created(){this.name=this.$attribute.name.replace(".trigger",""),this.value=this.$attribute.value,this.expressionValue=this.$attribute.value,this.eventHandlerBinded=this.eventHandler.bind(this),a.connectBehavior(this.expressionValue,this),this.$element.addEventListener(this.name,this.eventHandlerBinded,!1)}attached(){}detached(){this.$element.removeEventListener(this.name,this.eventHandlerBinded)}eventHandler(e){i.BindingEngine.tokenizeParseAndTraverseAST(this.value,o.createBindingContext(this.$bindingContext.$context,this.$bindingContext.$overrideContext,e))}};l=r.__decorate([s.customAttribute("#VARIABLE#.trigger")],l),n.TriggerEventsAttribute=l},e.f[88]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(19),a=e.r(19),o=e.r(22),l=e.r(89),c=e.r(7),h=e.r(61);let u=class{constructor(){this.templateArray=[],this.arrayType="object"}setArrayLocalVariables(e,t){e.$index=t,e.$even=t%2==0,e.$odd=t%2!=0,e.$last=t===this.templateArray.length-1,e.$first=0===t}created(){this.value=this.$attribute.value,this.loopBinded=this.loopArray.bind(this),this.$view=this.$controller.getView(),this.$element.attributes.removeNamedItem("repeat.for"),this.elementClone=this.$element.cloneNode(!0),this.templateElement="TEMPLATE"===this.elementClone.tagName,this.elementClone.getAttribute("if.bind")&&this.templateElement&&(this.templateElement=!1),this.$element.style.display="None";const e=c.DOM.document.createElement("div"),t=this.elementClone.cloneNode(!0);if(this.templateElement&&!t.content)for(t.content=c.DOM.document.createDocumentFragment();t.childNodes[0];)t.content.appendChild(t.childNodes[0]);if(e.appendChild(this.templateElement?t.content:t),this.anchor=c.DOM.document.createComment("mf-repeat-for"),this.repeatForArray=this.value.split(" of "),this.repeatForArray=this.repeatForArray.map(e=>e.trim()),2!==this.repeatForArray.length)console.error("unknown expression in repeat:"+this.value);else{if(this.rowInstanceName=this.repeatForArray[0],this.arrayVariableName=this.repeatForArray[1],this.arrayExpression=this.repeatForArray[1],this.arrayVariableName.indexOf("|")){const e=this.arrayVariableName.split("|").map(e=>e.trim());this.arrayVariableName=e[0]}this.$array=o.BindingEngine.evaluateExpression(this.arrayExpression,this.$bindingContext);const e=this.$array;Array.isArray(e)?(this.subscribeArray(),this.subscribePropArray()):"number"==typeof e?(this.arrayType="number",this.subscribePropSimple()):"string"==typeof e?(this.arrayType="string",this.subscribePropSimple()):(this.subscribeArray(),this.subscribePropArray())}}loopArray(e,t,n){const r=this.$array;if(r){if(e){if(t){const e=this.templateArray.length-t;for(let t=0;t<this.templateArray.length;t++)if(t<e)this.templateArray[t].ctx.$context[this.rowInstanceName]!==r[t]&&(this.templateArray[t].ctx.$context[this.rowInstanceName]=r[t]);else{const e=this.templateArray.pop();t--,this.clearInRow(e)}}if(n){const e=r.length-n;for(let t=0;t<r.length;t++)t<e?this.templateArray[t].ctx.$context[this.rowInstanceName]!==this.$array[t]&&(this.templateArray[t].ctx.$context[this.rowInstanceName]=this.$array[t]):this.push(r[t])}}else for(let e=0;e<this.$array.length;e++)this.templateArray[e].ctx.$context[this.rowInstanceName]!==r[e]&&(this.templateArray[e].ctx.$context[this.rowInstanceName]=r[e]);this.updateInternals()}}loopArrayNumber(e,t,n){const r=this.templateArray.length+1;if(r){if(e){if(t){const e=this.templateArray.length-t;for(let t=0;t<this.templateArray.length;t++)if(t>=e){const e=this.templateArray.pop();t--,this.clearInRow(e)}}if(n){const e=r;for(let t=0;t<r+n;t++)t>=e&&this.push(t)}}else for(let e=0;e<this.$array;e++)this.templateArray[e].ctx.$context[this.rowInstanceName]!==e&&(this.templateArray[e].ctx.$context[this.rowInstanceName]=e);this.updateInternals()}}detached(){this.clearTemplateArray(),this.arrayMethodCallHandler&&o.BindingEngine.unSubscribeClassArray(this.$bindingContext,this.arrayMethodCallHandler),this.arrayPropertyChangeHandler&&o.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.arrayPropertyChangeHandler),this.arrayPropertyChangeHandlerLocal&&o.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.arrayPropertyChangeHandlerLocal),this.propertyChangeHandlerSimple&&o.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.propertyChangeHandlerSimple),this.anchor&&(this.anchor.parentNode.removeChild(this.anchor),this.anchor=null),this.$view=null,this.$array=null,this.arrayMethodCallHandler=null,this.arrayPropertyChangeHandler=null,this.arrayPropertyChangeHandlerLocal=null,this.propertyChangeHandlerSimple=null}attached(){this.remove(),this.isAttached=!0,this.$array=o.BindingEngine.evaluateExpression(this.arrayExpression,this.$bindingContext);const e=this.$array;if(Array.isArray(e))e.forEach(e=>{this.push(e)});else{if("number"===this.arrayType&&this.templateArray.length!==e){this.clearTemplateArray();for(let t=0;t<e;t++)this.push(t+1)}if("string"===this.arrayType){const t="string"==typeof e?e.length:0;if(this.templateArray.length!==t){this.clearTemplateArray();for(let n=0;n<t;n++)this.push(e[n])}}}this.updateInternals()}subscribeArray(){this.arrayMethodCallHandler||(this.arrayMethodCallHandler=new l.ArrayMethodCallHandler(this)),o.BindingEngine.subscribeClassArray(this.$bindingContext,this.arrayVariableName,this.arrayMethodCallHandler)}subscribePropArray(){if(this.arrayPropertyChangeHandler?console.error("subscribePropArray fail, called when set",this.arrayExpression,this.arrayVariableName):this.arrayPropertyChangeHandler=new l.ArrayPropertyChange(this),o.BindingEngine.subscribeClassProperty(this.$bindingContext,this.arrayVariableName,this.arrayPropertyChangeHandler),this.arrayVariableName!==this.arrayExpression){this.arrayPropertyChangeHandlerLocal||(this.arrayPropertyChangeHandlerLocal=new l.ArrayPropertyChange(this));const e=this.arrayExpression.replace(this.arrayVariableName,"$array");o.BindingEngine.subscribeClassProperty(h.createBindingContext(this),e,this.arrayPropertyChangeHandlerLocal)}}subscribePropSimple(){this.propertyChangeHandlerSimple||(this.propertyChangeHandlerSimple=new l.PropertyChangeSimple(this)),o.BindingEngine.subscribeClassProperty(this.$bindingContext,this.arrayVariableName,this.propertyChangeHandlerSimple)}push(e,t){const n=this.elementClone.cloneNode(!0);if(this.templateElement&&!n.content)for(n.content=c.DOM.document.createDocumentFragment();n.childNodes[0];)n.content.appendChild(n.childNodes[0]);const r=h.createBindingContext({[this.rowInstanceName]:e},h.createBindingContext(this.$bindingContext,this.$bindingContext)),s=c.DOM.document.createElement("div");s.appendChild(this.templateElement?n.content:n);const o=new a.ViewController(n,this.$view);this.cache||(this.cache=i.View.createTemplateCache(s));const l=i.View.parseTemplateCache(s,r,o,this.cache);let u;if(this.templateElement){u=[];let e=c.DOM.document.createComment("repeat-template-row-anchor-start");u.push(e);for(let e=0,t=s.childNodes.length;e<t;e++)u.push(s.childNodes[e]);e=c.DOM.document.createComment("repeat-template-row-anchor-end"),u.push(e)}if(void 0===t){const e=this.templateArray.length;if(this.templateArray.push({ctx:r,template:this.templateElement?u:n,$view:o}),this.setArrayLocalVariables(r.$context,this.templateArray.length-1),this.templateElement)if(e){const t=this.templateArray[e-1].template.length-1;this.anchor.parentNode.insertBefore(u[0],this.templateArray[e-1].template[t].nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else{this.anchor.parentNode.insertBefore(u[0],this.anchor.nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else e?this.anchor.parentNode.insertBefore(n,this.templateArray[e-1].template.nextSibling):this.anchor.parentNode.insertBefore(n,this.anchor.nextSibling)}else if(this.templateArray.splice(t,0,{ctx:r,template:this.templateElement?u:n,$view:o}),this.templateElement)if(this.templateArray[t+1]){const e=this.templateArray[length-1].template.length-1;this.anchor.parentNode.insertBefore(u[0],this.templateArray[length-1].template[e].nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else{this.anchor.parentNode.insertBefore(u[0],this.anchor.nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else this.templateArray[t+1]?this.anchor.parentNode.insertBefore(n,this.templateArray[t+1].template):this.anchor.parentNode.appendChild(n);l.forEach(e=>{e.attached&&e.attached()})}pop(){if(this.templateArray.length>0){const e=this.templateArray.pop();this.clearInRow(e),this.updateInternals()}}updateInternals(){this.templateArray.forEach((e,t)=>{this.setArrayLocalVariables(e.ctx.$context,t)})}shift(){if(this.templateArray.length>0){const e=this.templateArray.shift();this.clearInRow(e),this.updateInternals()}}splice(e){if(this.templateArray.length>0){const t=e[0],n=0===e[0]&&void 0===e[1]?this.templateArray.length:e[1],r=[];for(let t=2;t<e.length;t++)e[t]&&r.push(e[t]);if(n){for(let e=t+n-1;e>t-1;e--){const t=this.templateArray.splice(e,1)[0];this.clearInRow(t)}}r.forEach(e=>{this.push(e,t)}),this.updateInternals()}}clearTemplateArray(){let e=c.DOM.document.createElement("div");this.templateArray.forEach(t=>{if(this.templateElement)for(let n=0,r=t.template.length;n<r;n++)e.appendChild(t.template[n]);else e.appendChild(t.template)}),this.templateArray.forEach(e=>{e.$view.clearView()}),e=null,this.templateArray=[]}remove(){this.clearTemplateArray(),this.$element.parentNode.replaceChild(this.anchor,this.$element)}clearInRow(e){if(e)if(this.templateElement)for(let t=0,n=e.template.length;t<n;t++)e.$view.clearView(),e.template[t].parentNode&&e.template[t].parentNode.removeChild(e.template[t]);else e.template.parentNode&&e.template.parentNode.removeChild(e.template),e.$view.clearView()}};u=r.__decorate([s.customAttribute("repeat.for")],u),n.RepeatAttribute=u},e.f[89]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(22);n.ArrayMethodCallHandler=class{constructor(e){this.repeat=e,this.name="repeat"+this.repeat.value}call(e){let t=!0;e.forEach(e=>{switch(e.event){case"push":let n=0;for(;n<e.args.length;)this.repeat.push(e.args[n]),n++;this.repeat.updateInternals();break;case"reverse":case"sort":if(t){t=!1;const e=this.repeat.$array;e&&e.forEach((e,t)=>{this.repeat.templateArray[t].ctx.$context[this.repeat.rowInstanceName]=e})}break;case"shift":this.repeat.shift();break;case"pop":this.repeat.pop();break;case"splice":this.repeat.splice(e.args)}})}};n.ArrayPropertyChange=class{constructor(e,t){this.repeat=e,this.expression=t,this.name="repeat"+this.repeat.value}call(){if(this.repeat.isAttached){const e=r.BindingEngine.evaluateExpression(this.repeat.arrayExpression,this.repeat.$bindingContext);if(Array.isArray(e)&&this.repeat.templateArray.length!==e.length)if(this.repeat.$array=e,0!==this.repeat.templateArray.length&&0!==e.length)this.repeat.templateArray.length>e.length?this.repeat.loopBinded(!0,this.repeat.templateArray.length-e.length,0):this.repeat.loopBinded(!0,0,e.length-this.repeat.templateArray.length),r.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),this.repeat.subscribeArray();else{this.repeat.clearTemplateArray();let e=r.BindingEngine.evaluateExpression(this.repeat.arrayExpression,this.repeat.$bindingContext);Array.isArray(e)&&(e.forEach(e=>{this.repeat.push(e)}),r.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),this.repeat.subscribeArray(),e=null)}else Array.isArray(e)?(this.repeat.$array=e,this.repeat.loopBinded(),r.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),e&&this.repeat.subscribeArray()):(this.repeat.$array=Array.isArray(e)?e:[],this.repeat.clearTemplateArray(),r.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),e&&this.repeat.subscribeArray())}}};n.PropertyChangeSimple=class{constructor(e){this.repeat=e,this.name="repeat"+this.repeat.value}call(e){if(this.repeat.isAttached){if("string"===this.repeat.arrayType){const t="string"==typeof e?e.length:0;if(this.repeat.templateArray.length!==t){this.repeat.clearTemplateArray();for(let n=0;n<t;n++)this.repeat.push(e[n])}}"number"===this.repeat.arrayType&&("number"!=typeof e&&(console.warn("repeat not number:",e),e=0),this.repeat.templateArray.length!==e&&(this.repeat.templateArray.length<e?this.repeat.loopArrayNumber(!0,0,e-this.repeat.templateArray.length):this.repeat.loopArrayNumber(!0,this.repeat.templateArray.length-e,0)))}}}},e.f[90]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(22);let a=class{created(){this.value=this.$attribute.value,this.name=this.$attribute.name.replace(".bind",""),this.init=!0,this.subscribeInternal={name:this.name+"Attribute(misc)",value:this.value,call:(e,t)=>{if(t!==e||this.init)switch(this.init=!1,this.name){case"readonly":e?this.$element.readOnly=e:this.$element.removeAttribute(this.name);break;case"src":e?this.$element.src=e:this.$element.removeAttribute(this.name);break;case"disabled":e?this.$element.disabled=e:this.$element.removeAttribute(this.name);break;case"class":this.$element.className=e||"";break;case"show":this.$element.style.display=e?"block":"none";break;default:this.$element.setAttribute(this.name,e)}}},i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.value,this.subscribeInternal)}detached(){i.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.subscribeInternal)}attached(){this.$element.removeAttribute(this.$attribute.name)}};a=r.__decorate([s.customAttribute("readonly.bind"),s.customAttribute("disabled.bind"),s.customAttribute("show.bind"),s.customAttribute("class.bind"),s.customAttribute("src.bind")],a),n.MiscAttributes=a},e.f[91]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(22);let a=class{constructor(){this.lastStyles=[]}created(){this.value=this.$attribute.value,this.$element.removeAttribute(this.$attribute.name),this.subscribeInternal={name:"cssAttribute:",value:this.value,call:(e,t)=>{t!==e&&this.splitAndInsert(e)}},i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.value,this.subscribeInternal)}splitAndInsert(e){try{const t=(e=null==e?"":e).split(";").map(e=>e.split(":")).filter(e=>2===e.length).map(e=>({attribute:e[0],value:e[1].replace(/ /g,"")})),n=[];t.forEach(e=>{n.push(e.attribute.trim()),this.$element.style[e.attribute.trim()]=e.value.trim()}),this.lastStyles.forEach(e=>{-1===n.indexOf(e)&&(this.$element.style[e]=null)}),this.lastStyles=n}catch(e){console.error("could not parse css values")}}detached(){i.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.subscribeInternal)}};a=r.__decorate([s.customAttribute("css")],a),n.CssAttribute=a},e.f[92]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(100),s=e.r(68),i=e.r(22);let a=class{created(){this.$attribute.getContent=(()=>this),this.expression=this.$attribute.value,this.subscribeInternal={name:"modelAttribute:",value:this.value,call:(e,t)=>{t!==e&&(this.value=e)}},i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expression,this.subscribeInternal)}detached(){this.$attribute.getContent=null}};a=r.__decorate([s.customAttribute("model.bind")],a),n.ModelAttribute=a},e.f[93]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});let n,r=!1,s=1e4;class i{constructor(e,t){this.id=s,s++,this.name=e,this.category=t||"unamed"}static getLogger(e,t){return r?new i(e,t):n}static enable(){r=!0}static disable(){r=!1}log(...e){r&&console.warn(`Log[${this.id}] - [${this.category}] - [${this.name}] `,e.join(" - "))}}t.Logger=i,n=new i("na","na")},e.f[94]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.raiseEvent=function(e,t,n,r){const s=new CustomEvent(t,{detail:void 0!==n?n:{},bubbles:r||!1});return e.dispatchEvent(s),s}},e.f[95]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(...e){e=e}},e.f[96]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.FetchClient=class{constructor(e={}){this.config=e,this.setConfig(e)}setConfig(e){e.defaultUrl&&(this.config.defaultUrl=e.defaultUrl),e.cache&&(this.config.cache=e.cache),e.credentials&&(this.config.credentials=e.credentials),e.headers&&(this.config.headers=e.headers),e.method&&(this.config.method=e.method),e.mode&&(this.config.mode=e.mode),e.redirect&&(this.config.redirect=e.redirect),e.referrer&&(this.config.referrer=e.referrer)}getConfig(){return this.config}fetch(e,t){const n=this.config.defaultUrl?this.config.defaultUrl+e:e,r={body:t.body?t.body:void 0,cache:t.cache||this.config.cache,credentials:t.credentials||this.config.credentials,headers:t.headers||this.config.headers,method:t.method||this.config.method,mode:t.mode||this.config.mode,redirect:t.redirect||this.config.redirect,referrer:t.referrer||this.config.referrer};return fetch(n,r)}}},e.f[97]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=Object.prototype.hasOwnProperty;function r(e){return decodeURIComponent(e.replace(/\+/g," "))}t.urlQueryParse=function(e){const t=/([^=?&]+)=?([^&]*)/g,n={};let s;for(;s=t.exec(e);n[r(s[1])]=r(s[2]));return n},t.urlqueryStringify=function(e,t){const r=[];"string"!=typeof(t=t||"")&&(t="?");for(const t in e)n.call(e,t)&&r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r.length?t+r.join("&"):""}},e.f[98]=function(t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e.r(22),s=e.r(38),i=e.r(11);n.connectBehavior=function(e,t){if(-1!==e.indexOf("&")){let n=s.Cache.expressionMap.get(e);if(!n){const t=r.BindingEngine.tokenize(e);(n={}).ast=r.BindingEngine.generateAST(t),s.Cache.expressionMap.set(e,{ast:n.ast,tokens:t})}const a=r.BindingEngine.getBehavior(n.ast);a&&a.forEach(e=>{const n=i.ContainerBehavior.findBehavior(e.name);if(n){let r=new n(t,e.args);r=r}})}}},e.f[99]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.template=function(...e){let t="<template>"+e[0][0];const n=[].slice.call(e,1);for(let r=0;r<n.length;++r)t+=n[r]+e[0][r+1];return t+"</template>"}},e.f[100]=function(e,t){var n,r,s,i,a,o,l,c,h,u,d,p,f,b,v,m,y,g,C;!function(t){var n="object"==typeof self?self:"object"==typeof this?this:{};function r(e,t){return e!==n&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}"object"==typeof e.exports?t(r(n,r(e.exports))):t(r(n))}(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};n=function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&(n[r[s]]=e[r[s]])}return n},i=function(e,t,n,r){var s,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){return function(n,r){t(n,r,e)}},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(a,o)}l((r=r.apply(e,t||[])).next())})},c=function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},h=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},u=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return a},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},f=function(e){return this instanceof f?(this.v=e,this):new f(e)},b=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){s[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{(n=s[e](t)).value instanceof f?Promise.resolve(n.value.v).then(l,c):h(i[0][2],n)}catch(e){h(i[0][3],e)}var n}function l(e){o("next",e)}function c(e){o("throw",e)}function h(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}},v=function(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:f(e[r](t)),done:"return"===r}:s?s(t):t}:s}},m=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,s){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,s,(t=e[n](t)).done,t.value)})}}},y=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},C=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",n),e("__assign",r),e("__rest",s),e("__decorate",i),e("__param",a),e("__metadata",o),e("__awaiter",l),e("__generator",c),e("__exportStar",h),e("__values",u),e("__read",d),e("__spread",p),e("__await",f),e("__asyncGenerator",b),e("__asyncDelegator",v),e("__asyncValues",m),e("__makeTemplateObject",y),e("__importStar",g),e("__importDefault",C)})};var t=e.r(0);if(t)for(var n in t)window[n]=t[n];e.r(0)}($fsx);